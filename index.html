<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>別問的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="別問的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="別問的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="別問的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="別問的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/blogImg/leslie.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">別問</a></h1>
		</hgroup>

		
		<p class="header-subtitle">golang开发者，关注Docker技术</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://github.com/torfuzx/" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/notask/" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="mailto://torfu@qq.com/" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Atom/" style="font-size: 13.33px;">Atom</a> <a href="/tags/Chromium/" style="font-size: 10px;">Chromium</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/Fedora/" style="font-size: 13.33px;">Fedora</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Go/" style="font-size: 20px;">Go</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/Log/" style="font-size: 10px;">Log</a> <a href="/tags/Logstash/" style="font-size: 10px;">Logstash</a> <a href="/tags/NodeJS/" style="font-size: 13.33px;">NodeJS</a> <a href="/tags/Sublime/" style="font-size: 16.67px;">Sublime</a> <a href="/tags/Ubuntu/" style="font-size: 13.33px;">Ubuntu</a> <a href="/tags/Virtualbox/" style="font-size: 10px;">Virtualbox</a> <a href="/tags/Wireshark/" style="font-size: 10px;">Wireshark</a> <a href="/tags/胡扯/" style="font-size: 10px;">胡扯</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://laoxu.blog.51cto.com/">老徐的私房菜</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">一个不入流的Go程序员，码畜</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">別問</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/assets/blogImg/leslie.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">別問</h1>
			</hgroup>
			
			<p class="header-subtitle">golang开发者，关注Docker技术</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://github.com/torfuzx/" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/notask/" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="mailto://torfu@qq.com/" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-让非root用户使用wireshark" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/06/让非root用户使用wireshark/" class="article-date">
  	<time datetime="2015-11-06T03:29:06.000Z" itemprop="datePublished">2015-11-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/06/让非root用户使用wireshark/">让非root用户使用wireshark</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>默认情况下，访问网络端口需要root权限，而wireshark的只是/usr/share/dumpcap的一个UI，/usr/share/dumpcap需要root权限，所以没法non-root用户无法读取网卡列表。<br>解决办法很简单，sudo wireshark</p>
<p>但是wireshark官方不推荐这么做：</p>
<blockquote>
<p>Running as user “root” and group “root”.<br>This could be dangerous.</p>
</blockquote>
<h4 id="所以用另一种方法，改变/usr/share/dumpcap的group，添加一个group：wireshark，chgrp到wireshark组，再改成750权限，这样方便权限控制。">所以用另一种方法，改变/usr/share/dumpcap的group，添加一个group：wireshark，chgrp到wireshark组，再改成750权限，这样方便权限控制。</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="operator">-s</span></span><br><span class="line">groupadd wireshark</span><br><span class="line">usermod <span class="operator">-a</span> -G wireshark &lt;username&gt;  </span><br><span class="line">chgrp wireshark /usr/bin/dumpcap</span><br><span class="line">chmod <span class="number">750</span> /usr/bin/dumpcap</span><br></pre></td></tr></table></figure>
<p>接着执行下面命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setcap</span> <span class="built_in">cap</span>_net_raw,<span class="built_in">cap</span>_net_admin=eip /usr/bin/dumpcap</span><br></pre></td></tr></table></figure></p>
<p>用getcap /usr/bin/dumpcap，输出应当是/usr/bin/dumpcap = cap_net_admin,cap_net_raw+eip，说明生效</p>
<p><a href="http://packetlife.net/blog/2010/mar/19/sniffing-wireshark-non-root-user/" target="_blank" rel="external">官方解决方案</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Wireshark/">Wireshark</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-修复sublime-text不支持fcitx中文输入法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/修复sublime-text不支持fcitx中文输入法/" class="article-date">
  	<time datetime="2015-11-05T08:48:13.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/修复sublime-text不支持fcitx中文输入法/">修复sublime text不支持fcitx中文输入法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="通过启动sublime_text_3时指定LD_PRELOAD来修复ubuntu_13-10中sublime_text_3不支持fcitx中文输入法的问题">通过启动sublime text 3时指定LD_PRELOAD来修复ubuntu 13.10中sublime text 3不支持fcitx中文输入法的问题</h1><ol>
<li><p>安装C/C++的编译环境和gtk libgtk2.0-dev</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential</span><br><span class="line">sudo apt-get install libgtk2.<span class="number">0</span>-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取<a href="/assets/file/sublime-imfix.c">sublime-imfix.c</a>文件，编译共享内库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -shared -o libsublime-imfix.so sublime-imfix.c  `pkg-config --libs --cflags gtk+-<span class="number">2.0</span>` <span class="operator">-f</span>PIC</span><br></pre></td></tr></table></figure>
</li>
<li><p>将libsublime-imfix.so移动到/usr/lib/</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv libsublime-imfix.so /usr/lib/</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动 Sublime Text 3</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LD_PRELOAD=/usr/lib/libsublime-imfix.so subl</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>但是这样的话，我们每次都要在终端里面使用命令启动sublime text 3，这样很不方便，接下来我们还要通过修改subl命令达到使用subl等命令启动以及修改sublime-text.desktop达到点击图标启动</p>
<p>1.打开sublime-text-2<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/bin/subl</span><br></pre></td></tr></table></figure></p>
<p>2.修改subl为以下内容<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line">LD_PRELOAD=/usr/lib/libsublime-imfix.so /opt/sublime_text/sublime_text <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure></p>
<p>这样就能使用subl等命令启动</p>
<p>3.打开sublime-text.desktop<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/share/applications/sublime-text.desktop</span><br></pre></td></tr></table></figure></p>
<p>4.修改sublime-text.desktop</p>
<p>将<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/opt/sublime_text/sublime_text</span><br><span class="line">替换为</span><br><span class="line">``` bash</span><br><span class="line">subl</span><br></pre></td></tr></table></figure></p>
<p>好了，接下来你在dash中点击打开sublime text吧，开始你的代码之旅吧</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sublime/">Sublime</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Ubuntu-国内源配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/Ubuntu-国内源配置/" class="article-date">
  	<time datetime="2015-11-05T08:39:42.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/Ubuntu-国内源配置/">Ubuntu 国内源配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="如何使用推荐的源">如何使用推荐的源</h1><h3 id="不同的网络状况连接以下源的速度不同,_建议在添加前手动验证以下源的连接速度(ping下就行),选择最快的源可以节省大批下载时间。">不同的网络状况连接以下源的速度不同, 建议在添加前手动验证以下源的连接速度(ping下就行),选择最快的源可以节省大批下载时间。</h3><h4 id="首先备份源列表(for_sure):">首先备份源列表(for sure):</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list_backup</span><br></pre></td></tr></table></figure>
<h4 id="而后用gedit或其他编辑器打开:">而后用gedit或其他编辑器打开:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<h4 id="从下面列表中选择合适的源，替换掉文件中所有的内容，保存编辑好的文件:">从下面列表中选择合适的源，替换掉文件中所有的内容，保存编辑好的文件:</h4><p> 注意：一定要选对版本</p>
<h4 id="然后，刷新列表:">然后，刷新列表:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<p> 注意：一定要执行刷新</p>
<h1 id="源列表">源列表</h1><p>Vivid(15.04)版本<br>Ubuntu 官方更新服务器（欧洲，此为官方源，国内较慢，但无同步延迟问题，电信、移动/铁通、联通等公网用户可以使用)：</p>
<blockquote>
<p>deb <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-backports main restricted universe multiverse<br>deb-src <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb-src <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb-src <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb-src <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb-src <a href="http://archive.ubuntu.com/ubuntu/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/</a> vivid-backports main restricted universe multiverse</p>
</blockquote>
<p>Ubuntu官方提供的其他软件（第三方闭源软件等）：</p>
<blockquote>
<p>deb <a href="http://archive.canonical.com/ubuntu/" target="_blank" rel="external">http://archive.canonical.com/ubuntu/</a> vivid partner<br>deb <a href="http://extras.ubuntu.com/ubuntu/" target="_blank" rel="external">http://extras.ubuntu.com/ubuntu/</a> vivid main</p>
</blockquote>
<p>阿里云更新服务器（北京万网/浙江杭州阿里云服务器双线接入），包含其他开源镜像：</p>
<blockquote>
<p>deb <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-backports main restricted universe multiverse<br>deb-src <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb-src <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb-src <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb-src <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb-src <a href="http://mirrors.aliyun.com/ubuntu/" target="_blank" rel="external">http://mirrors.aliyun.com/ubuntu/</a> vivid-backports main restricted universe multiverse</p>
</blockquote>
<p>网易163更新服务器（广东广州电信/联通千兆双线接入），包含其他开源镜像：</p>
<blockquote>
<p>deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-backports main restricted universe multiverse<br>deb-src <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid main restricted universe multiverse<br>deb-src <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-security main restricted universe multiverse<br>deb-src <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-updates main restricted universe multiverse<br>deb-src <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-proposed main restricted universe multiverse<br>deb-src <a href="http://mirrors.163.com/ubuntu/" target="_blank" rel="external">http://mirrors.163.com/ubuntu/</a> vivid-backports main restricted universe multiverse</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-SSH-Key-生成步骤" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/SSH-Key-生成步骤/" class="article-date">
  	<time datetime="2015-11-05T08:23:44.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/SSH-Key-生成步骤/">SSH Key 生成步骤</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="生成SSH密钥过程：">生成SSH密钥过程：</h1><h3 id="1-_查看是否已经有了ssh密钥：cd_~/-ssh">1. 查看是否已经有了ssh密钥：cd ~/.ssh</h3><p>如果没有密钥则不会有此文件夹，有则备份删除</p>
<h3 id="2-_生存密钥：">2. 生存密钥：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"&lt;user email&gt;"</span></span><br></pre></td></tr></table></figure>
<p>按3个回车，密码为空。</p>
<blockquote>
<p>Your identification has been saved in /home/tekkub/.ssh/id_rsa.<br>Your public key has been saved in /home/tekkub/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>………………</p>
</blockquote>
<p>最后得到了两个文件：id_rsa和id_rsa.pub</p>
<h3 id="3-_“id_rsa-pub”是生成的公钥">3. “id_rsa.pub”是生成的公钥</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Ubuntu常用软件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/Ubuntu常用软件/" class="article-date">
  	<time datetime="2015-11-05T08:19:35.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/Ubuntu常用软件/">Ubuntu常用软件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Plugin">Plugin</h1><h4 id="nautilus-open-terminal">nautilus-open-terminal</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y nautilus-open-terminal</span><br></pre></td></tr></table></figure>
<h4 id="Vim">Vim</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y vim</span><br></pre></td></tr></table></figure>
<h4 id="Download_Utils">Download Utils</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y curl</span><br><span class="line">sudo apt-get install -y wget</span><br></pre></td></tr></table></figure>
<h4 id="Version_Control">Version Control</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y git</span><br><span class="line">sudo apt-get install -y mercurial</span><br><span class="line">sudo apt-get install -y colordiff</span><br></pre></td></tr></table></figure>
<h4 id="Monitor">Monitor</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y htop</span><br></pre></td></tr></table></figure>
<h4 id="Ubuntu_Restricted_Extras">Ubuntu Restricted Extras</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y ubuntu-restricted-extras</span><br></pre></td></tr></table></figure>
<h4 id="Terminator">Terminator</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get instal -y terminator</span><br></pre></td></tr></table></figure>
<h4 id="Tree">Tree</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y tree</span><br></pre></td></tr></table></figure>
<h4 id="Diff">Diff</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y meld</span><br></pre></td></tr></table></figure>
<h4 id="Flash">Flash</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y pepperflashplugin-nonfree</span><br></pre></td></tr></table></figure>
<p>==<br>Software</p>
<blockquote>
<p>chromium<br>wireshark<br>shutter</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-git-config设置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/git-config设置/" class="article-date">
  	<time datetime="2015-11-05T08:15:57.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/git-config设置/">git config设置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-_Git已经在你的系统中了，你会做一些事情来客户化你的Git环境。你只需要做这些设置一次；即使你升级了，他们也会绑定到你的环境中。你也可以在任何时刻通过运行命令来重新更改这些设置。">1. Git已经在你的系统中了，你会做一些事情来客户化你的Git环境。你只需要做这些设置一次；即使你升级了，他们也会绑定到你的环境中。你也可以在任何时刻通过运行命令来重新更改这些设置。</h3><p>Git有一个工具被称为git config，它允许你获得和设置配置变量；这些变量可以控制Git的外观和操作的各个方面。这些变量可以被存储在三个不同的位置： </p>
<ol>
<li>/etc/gitconfig 文件：包含了适用于系统所有用户和所有库的值。如果你传递参数选项’–system’ 给 git config，它将明确的读和写这个文件。 </li>
<li>~/.gitconfig 文件 ：具体到你的用户。你可以通过传递–global 选项使Git 读或写这个特定的文件。</li>
<li>位于git目录的config文件 (也就是 .git/config) ：无论你当前在用的库是什么，特定指向该单一的库。每个级别重写前一个级别的值。因此，在.git/config中的值覆盖了在/etc/gitconfig中的同一个值。</li>
</ol>
<h3 id="2-_你的标识(Your_Identity)">2. 你的标识(Your Identity)</h3><h4 id="2-1_当你安装Git后首先要做的事情是设置你的用户名称和e-mail地址。这是非常重要的，因为每次Git提交都会使用该信息。它被永远的嵌入到了你的提交中：">2.1　当你安装Git后首先要做的事情是设置你的用户名称和e-mail地址。这是非常重要的，因为每次Git提交都会使用该信息。它被永远的嵌入到了你的提交中：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"John Doe"</span></span><br><span class="line">git config --global user.email johndoe@example.com</span><br></pre></td></tr></table></figure>
<p> 　　重申一遍，你只需要做一次这个设置。如果你传递了 –global 选项，因为Git将总是会使用该信息来处理你在系统中所做的一切操作。如果你希望在一个特定的项目中使用不同的名称或e-mail地址，你可以在该项目中运行该命令而不要–global选项。</p>
<h4 id="2-2_你的编辑器(Your_Editor)">2.2 你的编辑器(Your Editor)</h4><p>　　现在，你的标识已经设置，你可以配置你的缺省文本编辑器，Git在需要你输入一些消息时会使用该文本编辑器。缺省情况下，Git使用你的系统的缺省编辑器，这通常可能是vi 或者 vim。如果你想使用一个不同的文本编辑器，例如Emacs，你可以做如下操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.editor emacs</span><br></pre></td></tr></table></figure>
<h4 id="2-3_你的比较工具(Your_Diff_Tool)">2.3 你的比较工具(Your Diff Tool)</h4><p>　　另外一个你可能需要配置的有用的选项是缺省的比较工具它用来解决合并时的冲突。例如，你想使用vimdiff:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global merge.tool vimdiff</span><br></pre></td></tr></table></figure>
<p>Git可以接受kdiff3, tkdiff, meld, xxdiff, emerge, vimdiff, gvimdiff, ecmerge, 和opendiff作为有效的合并工具。你也可以设置一个客户化的工具；查看第7章获得更多关于此的信息。</p>
<h4 id="2-4_检查你的设置(Checking_Your_Settings)">2.4 检查你的设置(Checking Your Settings)</h4><p>如果你想检查你的设置，你可以使用 git config –list 命令来列出Git可以在该处找到的所有的设置:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>
<blockquote>
<p>user.name=Scott Chacon<br>user.email=schacon@gmail.com<br>color.status=auto<br>color.branch=auto<br>color.interactive=auto<br>color.diff=auto<br>…</p>
</blockquote>
<p>你可能会看到一个关键字出现多次，这是因为Git从不同的文件中(例如：/etc/gitconfig以及~/.gitconfig)读取相同的关键字。<br>在这种情况下，对每个唯一的关键字，Git使用最后的那个值。<br>你也可以查看Git认为的一个特定的关键字目前的值，使用如下命令 git config {key}:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Scott Chacon</p>
</blockquote>
<h4 id="2-5_获取帮助(Getting_help)">2.5 获取帮助(Getting help)</h4><p>如果当你在使用Git时需要帮助，有三种方法可以获得任何git命令的手册页(manpage)帮助信息:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">help</span> &lt;verb&gt;</span><br><span class="line">git &lt;verb&gt; --help</span><br><span class="line">man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure></p>
<p>例如，你可以运行如下命令获取对config命令的手册页帮助:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">help</span> config</span><br></pre></td></tr></table></figure></p>
<h4 id="2-6_总结(Summary)">2.6 总结(Summary)</h4><p>你应该对Git是什么以及Git与你可能使用的其它CVCS之间的不同有了一个基本的了解。你也应当在你的系统中有了一个具有你个人标识的可以工作的Git版本。是时候来学习一些Git的基本知识了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-DNS解析过程" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/03/DNS解析过程/" class="article-date">
  	<time datetime="2015-11-03T08:07:22.000Z" itemprop="datePublished">2015-11-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/03/DNS解析过程/">DNS解析过程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="DNS的几个基本概念：">DNS的几个基本概念：</h1><h2 id="一．_根域">一． 根域</h2><p>就是所谓的“.”，其实我们的网址www.baidu.com在配置当中应该是www.baidu.com.（最后有一点），一般我们在浏览器里输入时会省略后面的点，而这也已经成为了习惯。<br>根域服务器我们知道有13台，但是这是错误的观点。<br>根域服务器只是具有13个IP地址，但机器数量却不是13台，因为这些IP地址借助了<a href="https://zh.wikipedia.org/zh/%E4%BB%BB%E6%92%AD" target="_blank" rel="external">任播</a>的技术，所以我们可以在全球设立这些IP的镜像站点，你访问到的这个IP并不是唯一的那台主机。<br>具体的镜像分布可以参考<a href="https://zh.wikipedia.org/wiki/%E6%A0%B9%E7%B6%B2%E5%9F%9F%E5%90%8D%E7%A8%B1%E4%BC%BA%E6%9C%8D%E5%99%A8" target="_blank" rel="external">维基百科</a>。这些主机的内容都是一样的。</p>
<h2 id="二．_域的划分">二． 域的划分</h2><p>根域下来就是顶级域或者叫一级域，<br>有两种划分方式，一种互联网刚兴起时的按照行业性质划分的com.，net.等，一种是按国家划分的如cn.，jp.，等。<br>具体多少你可以自己去查，我们这里不关心。<br>每个域都会有域名服务器，也叫权威域名服务器。<br>baidu.com就是一个顶级域名，而www.baidu.com却不是顶级域名，他是在baidu.com 这个域里的一叫做www的主机。<br>一级域之后还有二级域，三级域，只要我买了一个顶级域，并且我搭建了自己BIND服务器（或者其他软件搭建的）注册到互联网中，那么我就可以随意在前面多加几个域了（当然长度是有限制的）。<br>比如a.www.baidu.com，在这个网址中，www.baidu.com变成了一个二级域而不是一台主机，主机名是a。</p>
<h2 id="三．_域名服务器">三． 域名服务器</h2><p>能提供域名解析的服务器，上面的记录类型可以是A(address)记录，NS（name server）记录，MX（mail），CNAME等。<br>（详解参见博客：<a href="http://blog.csdn.net/crazw/article/details/8986581" target="_blank" rel="external">域名解析中A记录、CNAME、MX记录、NS记录的区别和联系</a>）<br>A记录是什么意思呢，就是记录一个IP地址和一个主机名字，比如我这个域名服务器所在的域test.baidu.com，我们知道这是一个二级的域名，然后我在里面有一条A记录,记录了主机为a的IP，查到了就返回给你了。<br>如果我现在要想baidu.com这个域名服务器查询a.test.baidu.com，那么这个顶级域名服务器就会发现你请求的这个网址在test.baidu.com这个域中，我这里记录了这个二级域的域名服务器test.baidu.com的NS的IP。我返回给你这个地址你再去查主机为a的主机吧。<br>这些域内的域名服务器都称为权威服务器，直接提供DNS查询服务。（这些服务器可不会做递归哦）</p>
<h2 id="四．解析过程">四．解析过程</h2><p>那么我们的DNS是怎么解析一个域名的呢？</p>
<p>1.现在我有一台计算机，通过ISP接入了互联网，那么ISP就会给我分配一个DNS服务器，<strong>这个DNS服务器不是权威服务器</strong>，而是相当于一个代理的dns解析服务器，他会帮你迭代权威服务器返回的应答，然后把最终查到IP返回给你。<br>2.现在的我计算机要向这台ISPDNS发起请求查询www.baidu.com这个域名了。(经网友提醒：这里其实准确来说不是ISPDNS，而应该是用户自己电脑网络设置里的DNS，并不一定是ISPDNS。比如也有可能你手工设置了8.8.8.8)<br>3.ISPDNS拿到请求后，先检查一下自己的缓存中有没有这个地址，有的话就直接返回。这个时候拿到的ip地址，会被标记为<strong>非权威服务器的应答</strong>。<br>4.如果缓存中没有的话，ISPDNS会从<strong>配置文件</strong>里面读取13个根域名服务器的地址（这些地址是不变的，直接在BIND的配置文件中），<br>5.然后像其中一台发起请求。<br>6.根服务器拿到这个请求后，知道他是com.这个顶级域名下的，所以就会返回com域中的NS记录，一般来说是13台主机名和IP。<br>7.然后ISPDNS向其中一台再次发起请求，com域的服务器发现你这请求是baidu.com这个域的，我一查发现了这个域的NS，那我就返回给你，你再去查。<br>（目前百度有4台baidu.com的顶级域名服务器）。<br>8.ISPDNS不厌其烦的再次向baidu.com这个域的权威服务器发起请求，baidu.com收到之后，查了下有www的这台主机，就把这个IP返回给你了，<br>9.然后ISPDNS拿到了之后，将其返回给了客户端，并且把这个保存在高速缓存中。</p>
<p>下面我们来用 nslookup 这个工具详细来说一下解析步骤：<br><img src="/assets/blogImg/nslookup.png" alt="nslookup"><br>从上图我们可以看到:<br>    第一行Server是：DNS服务器的主机名–210.32.32.1<br>    第二行Address是： 它的IP地址–210.32.32.1#53<br>    下面的Name是：解析的URL–    www.jsjzx.com<br>    Address是：解析出来的IP–112.121.162.168</p>
<hr>
<p>但是也有像百度这样的DNS比较复杂的解析:<br><img src="/assets/blogImg/nslookup_baidu.png" alt="nslookup_baidu"><br>你会发现百度有一个cname = www.a.shifen.com  的别名。<br>这是怎么一个过程呢？<br>我们用dig工具来跟踪一下把（linux系统自带有）</p>
<hr>
<p>Dig工具会在本地计算机做迭代，然后记录查询的过程。<br><img src="/assets/blogImg/dig_baidu.png" alt="dig_baidu"><br>第一步是向我这台机器的ISPDNS获取到根域服务区的13个IP和主机名[b-j].root-servers.net.。<br><img src="/assets/blogImg/dig_baidu_1.png" alt="dig_baidu_1"><br>第二步是向其中的一台根域服务器（Servername就是末行小括号里面的）发送www.baidu.com的查询请求，他返回了com.顶级域的服务器IP（未显示）和名称。<br><img src="/assets/blogImg/dig_baidu_2.png" alt="dig_baidu_2"><br>第三步，便向com.域的一台服务器192.5.6.30请求,www.baidu.com，他返回了baidu.com域的服务器IP（未显示）和名称，百度有四台顶级域的服务器<br>    【此处可以用dig @192.5.6.30 www.baidu.com查看返回的百度顶级域名服务器IP地址】。<br><img src="/assets/blogImg/dig_baidu_3.png" alt="dig_baidu_3"><br>第四步呢，向百度的顶级域服务器（202.108.22.220）请求www.baidu.com，他发现这个www有个别名，而不是一台主机，别名是www.a.shifen.com<br><img src="/assets/blogImg/dig_baidu_4.png" alt="dig_baidu_4"></p>
<hr>
<p>按照一般的逻辑，当dns请求到别名的时候，查询会终止，而是重新发起查询别名的请求，所以此处应该返回的是www.a.shifen.com而已。<br>但是为什么返回a.shifen.com的这个域的NS呢？<br>我们可以尝试下面的这个命令：dig +trace  shifen.com 看看有什么结果。。。。。。。。<br><img src="/assets/blogImg/dig_baidu_5.png" alt="dig_baidu_5"></p>
<hr>
<p><strong>你会发现第三步时shifen.com这个顶级域的域名服务器和baidu.com这个域的域名服务器是同一台主机</strong>（即：dns.baidu.com）！</p>
<p>当我拿到www.baidu.com的别名www.a.shifen.com的时候，我本来需要重新到com域查找shifen.com域的NS，但是因为这两个域在同一台NS上，所以直接向本机发起了，<br>shifen.com域发现请求的www.a.shifen.com是属于a.shifen.com这个域的，<br>于是就把a.shifen.com的这个NS和IP返回，让我到a.shifen.com这个域的域名服务器上查询www.a.shifen.com。<br>于是我便从ns X .a.shifen.com中一台拿到了一条A记录，最终的最终也便是www.baidu.com的IP地址了.【此处也可以用dig +trace www.a.shifen.com】跟踪一下<br>用一个图来说明一下(图中第三步的全世界只有13台是错误的)<br><img src="/assets/blogImg/dns_baidu_1.jpg" alt="dns_baidu_1"><br><strong>以下内容为在虚拟机中搭建local dns服务器得到的实验数据，纠正上述结论</strong><br>在上面的分析中，我们用dig工具进行了追踪，但是dig没有继续追踪当我们从baidu.com拿到cname和ns2.a.shifen.com的IP之后的事情。<br>我们就所以然的下结论认为local dns会向ns2.a.shifen.com请求www.a.shifen.om。<br>其实这个想法是错误，在自己的本地搭建一个local dns，抓取整个解析过程中是所有包，看看就明白拉。<br>实际的结果是虽然dns.baidu.com返回了a.shifen.com域的服务器地址和IP，<br>但是local dns并不是直接向上述返回的IP请求www.a.shifen.com，而是再一次去请求com域，得到shifen.com域的服务器（也就是baidu.com的那四台），<br>然后又请求www.a.shifen.com，返回a.shifen.com的域的服务器，最后才是去请求www.a.shifen.com，<br>虽然上面已经返回了IP，但是实验的结果就是再走一遍shifen.com域的查询。<br><img src="/assets/blogImg/dns_baidu_2.jpg" alt="dns_baidu_2"><br>上图就是localdns在解析www.baidu.com的抓包全过程。蓝色那条就是在收到cname和响应的a.shifen.com的域名服务器IP地址之后，继续向com域请求shifen.com。<br><img src="/assets/blogImg/dns_baidu_3.jpg" alt="dns_baidu_3"><br>这个图充分说明了返回cname的同时也返回了ns2.a.shifen.com的IP。</p>
<p>因此总结一下便是<br>    ①本机向local dns请求www.baidu.com<br>    ②local dns向根域请求www.baidu.com，根域返回com.域的服务器IP<br>    ③向com.域请求www.baidu.com，com.域返回baidu.com域的服务器IP<br>    ④向baidu.com请求www.baidu.com，返回cname www.a.shifen.com和a.shifen.com域的服务器IP<br>    ⑤向root域请求www.a.shifen.com<br>    ⑥向com.域请求www.a.shife.com<br>    ⑦向shifen.com请求<br>    ⑧向a.shifen.com域请求<br>    ⑨拿到www.a.shifen.com的IP<br>    ⑩localdns返回本机www.baidu.com cname www.a.shifen.com 以及 www.a.shifen.com的IP</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNS/">DNS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Golang-设计模式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/21/Golang-设计模式/" class="article-date">
  	<time datetime="2015-10-21T03:12:34.000Z" itemprop="datePublished">2015-10-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/21/Golang-设计模式/">Golang 设计模式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="说明">说明</h1><p>主要是根据《HEAD FIRST 设计模式》这本书里面的模式的golang版本实现。</p>
<h2 id="策略模式">策略模式</h2><h3 id="策略模式：定义算法族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化独立于使用算法的客户。——《HEAD_FIRST_设计模式》">策略模式：定义算法族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化独立于使用算法的客户。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">package strategy</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////</span></span><br><span class="line">type <span class="type">FlyBehavior</span> interface &#123;</span><br><span class="line">    <span class="type">Fly</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">QuackBehavior</span> interface &#123;</span><br><span class="line">    <span class="type">Quack</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Duck</span> interface &#123;</span><br><span class="line">    <span class="type">FlyBehavior</span></span><br><span class="line">    <span class="type">QuackBehavior</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">type <span class="type">FlyWithWings</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(s *FlyWithWings)</span></span> <span class="type">Fly</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Fly with wings!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">FlyNoWay</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(s *FlyNoWay)</span></span> <span class="type">Fly</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Fly no way!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Quack</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(s *Quack)</span></span> <span class="type">Quack</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Quack!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Squeak</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(s *Squeak)</span></span> <span class="type">Quack</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Squeak!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">MuteQuack</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(s *MuteQuack)</span></span> <span class="type">Quack</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Mute quack!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">type <span class="type">MallardDuck</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    <span class="type">FlyBehavior</span></span><br><span class="line">    <span class="type">QuackBehavior</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewMallardDuck</span><span class="params">()</span></span> *<span class="type">MallardDuck</span> &#123;</span><br><span class="line">    ret := &amp;<span class="type">MallardDuck</span>&#123;&amp;<span class="type">FlyWithWings</span>&#123;&#125;, &amp;<span class="type">Quack</span>&#123;&#125;&#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">RedHeadDuck</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    <span class="type">FlyBehavior</span></span><br><span class="line">    <span class="type">QuackBehavior</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewRedHeadDuck</span><span class="params">()</span></span> *<span class="type">RedHeadDuck</span> &#123;</span><br><span class="line">    ret := &amp;<span class="type">RedHeadDuck</span>&#123;&amp;<span class="type">FlyNoWay</span>&#123;&#125;, &amp;<span class="type">Quack</span>&#123;&#125;&#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">RubberDuck</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    <span class="type">FlyBehavior</span></span><br><span class="line">    <span class="type">QuackBehavior</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewRubberDuck</span><span class="params">()</span></span> *<span class="type">RubberDuck</span> &#123;</span><br><span class="line">    ret := &amp;<span class="type">RubberDuck</span>&#123;&amp;<span class="type">FlyNoWay</span>&#123;&#125;, &amp;<span class="type">Squeak</span>&#123;&#125;&#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">DecoyDuck</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    <span class="type">FlyBehavior</span></span><br><span class="line">    <span class="type">QuackBehavior</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewDecoyDuck</span><span class="params">()</span></span> *<span class="type">DecoyDuck</span> &#123;</span><br><span class="line">    ret := &amp;<span class="type">DecoyDuck</span>&#123;&amp;<span class="type">FlyNoWay</span>&#123;&#125;, &amp;<span class="type">MuteQuack</span>&#123;&#125;&#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="观察者模式">观察者模式</h2><h3 id="观察者模式：在对象之间定义一对多的依赖，这样一来，当一个对象改变状态，依赖它的对象都会收到通知，并自动更新。——《HEAD_FIRST_设计模式》">观察者模式：在对象之间定义一对多的依赖，这样一来，当一个对象改变状态，依赖它的对象都会收到通知，并自动更新。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">package observer</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"container/list"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type <span class="type">Subject</span> interface &#123;</span><br><span class="line">    <span class="type">RegisterObserver</span>(o <span class="type">Observer</span>)</span><br><span class="line">    <span class="type">RemoveObserver</span>(o <span class="type">Observer</span>)</span><br><span class="line">    <span class="type">NotifyObserver</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Observer</span> interface &#123;</span><br><span class="line">    <span class="type">Update</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">DisplayElement</span> interface &#123;</span><br><span class="line">    <span class="type">Display</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">type <span class="type">WeatherData</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    o *list.<span class="type">List</span></span><br><span class="line">    t int <span class="comment">// temperature</span></span><br><span class="line">    h int <span class="comment">// humidity</span></span><br><span class="line">    p int <span class="comment">// pressure</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewWeatherData</span><span class="params">()</span></span> *<span class="type">WeatherData</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">WeatherData</span>)</span><br><span class="line">    r.o = <span class="keyword">new</span>(list.<span class="type">List</span>)</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *WeatherData)</span></span> <span class="type">RegisterObserver</span>(ob <span class="type">Observer</span>) &#123;</span><br><span class="line">    o.o.<span class="type">PushBack</span>(ob)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *WeatherData)</span></span> <span class="type">RemoveObserver</span>(ob <span class="type">Observer</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> e := o.o.<span class="type">Front</span>(); e != <span class="literal">nil</span>; e = e.<span class="type">Next</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> e.<span class="type">Value</span> == ob &#123;</span><br><span class="line">            o.o.<span class="type">Remove</span>(e)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *WeatherData)</span></span> <span class="type">NotifyObserver</span>() &#123;</span><br><span class="line">    <span class="keyword">for</span> e := o.o.<span class="type">Front</span>(); e != <span class="literal">nil</span>; e = e.<span class="type">Next</span>() &#123;</span><br><span class="line">        e.<span class="type">Value</span>.(<span class="type">Observer</span>).<span class="type">Update</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line">type <span class="type">CurrentConditionsDisplay</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *CurrentConditionsDisplay)</span></span> <span class="type">Update</span>() &#123;</span><br><span class="line">    o.<span class="type">Display</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *CurrentConditionsDisplay)</span></span> <span class="type">Display</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"CurrentConditionsDisplay update!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">StatisticsDisplay</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *StatisticsDisplay)</span></span> <span class="type">Update</span>() &#123;</span><br><span class="line">    o.<span class="type">Display</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *StatisticsDisplay)</span></span> <span class="type">Display</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"StatisticsDisplay update!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">ForecastDisplay</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *ForecastDisplay)</span></span> <span class="type">Update</span>() &#123;</span><br><span class="line">    o.<span class="type">Display</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *ForecastDisplay)</span></span> <span class="type">Display</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"ForecastDisplay update!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">ThirdPartyDisplay</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *ThirdPartyDisplay)</span></span> <span class="type">Update</span>() &#123;</span><br><span class="line">    o.<span class="type">Display</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(o *ThirdPartyDisplay)</span></span> <span class="type">Display</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"ThirdPartyDisplay update!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="装饰者模式">装饰者模式</h2><h3 id="装饰者模式：动态地将责任附加到对象上。想要扩展功能，装饰者提供有别于继承的另一种选择。——《HEAD_FIRST_设计模式》">装饰者模式：动态地将责任附加到对象上。想要扩展功能，装饰者提供有别于继承的另一种选择。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">package decorator</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////</span></span><br><span class="line">type <span class="type">Beverage</span> interface &#123;</span><br><span class="line">    <span class="type">GetDescription</span>() string</span><br><span class="line">    <span class="type">Cost</span>() int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">CondimentDecorator</span> interface &#123;</span><br><span class="line">    <span class="type">GetDescription</span>() string</span><br><span class="line">    <span class="type">Cost</span>() int</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////</span></span><br><span class="line">type <span class="type">HouseBlend</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *HouseBlend)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *HouseBlend)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"HouseBlend"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">DarkRoast</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *DarkRoast)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *DarkRoast)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"DarkRoast"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Espresso</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Espresso)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Espresso)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Espresso"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Decaf</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Decaf)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Decaf)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Decaf"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////</span></span><br><span class="line">type <span class="type">Milk</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    beverage <span class="type">Beverage</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewMilk</span><span class="params">(b Beverage)</span></span> *<span class="type">Milk</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Milk</span>)</span><br><span class="line">    r.beverage = b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Milk)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">Cost</span>() + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Milk)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">GetDescription</span>() + <span class="string">",Milk"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Mocha</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    beverage <span class="type">Beverage</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewMocha</span><span class="params">(b Beverage)</span></span> *<span class="type">Mocha</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Mocha</span>)</span><br><span class="line">    r.beverage = b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Mocha)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">Cost</span>() + <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Mocha)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">GetDescription</span>() + <span class="string">",Mocha"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Soy</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    beverage <span class="type">Beverage</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewSoy</span><span class="params">(b Beverage)</span></span> *<span class="type">Soy</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Soy</span>)</span><br><span class="line">    r.beverage = b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Soy)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">Cost</span>() + <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Soy)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">GetDescription</span>() + <span class="string">",Soy"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Whip</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    beverage <span class="type">Beverage</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewWhip</span><span class="params">(b Beverage)</span></span> *<span class="type">Whip</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Whip</span>)</span><br><span class="line">    r.beverage = b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Whip)</span></span> <span class="type">Cost</span>() int &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">Cost</span>() + <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(d *Whip)</span></span> <span class="type">GetDecription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> d.beverage.<span class="type">GetDescription</span>() + <span class="string">",Whip"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="工厂模式">工厂模式</h2><h3 id="工厂模式：定义了一个创建对象的接口，但由子类决定要实例化的类是哪一个。工厂方法让类把实例化推迟到子类。——《HEAD_FIRST_设计模式》">工厂模式：定义了一个创建对象的接口，但由子类决定要实例化的类是哪一个。工厂方法让类把实例化推迟到子类。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br></pre></td><td class="code"><pre><span class="line">package factory</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type PizzaStore interface &#123;</span><br><span class="line">    createPizza(t <span class="built_in">string</span>) Pizza</span><br><span class="line">    OrderPizza(t <span class="built_in">string</span>) Pizza</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Pizza interface &#123;</span><br><span class="line">    prepare()</span><br><span class="line">    bake()</span><br><span class="line">    cut()</span><br><span class="line">    box()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">///////////////////////////////////////////</span><br><span class="line">type NYStylePizzaStore struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePizzaStore)</span> <span class="title">OrderPizza</span><span class="params">(t string)</span> <span class="title">Pizza</span> &#123;</span></span><br><span class="line">    var r Pizza</span><br><span class="line">    r = f.createPizza(t)</span><br><span class="line"></span><br><span class="line">    r.prepare()</span><br><span class="line">    r.bake()</span><br><span class="line">    r.cut()</span><br><span class="line">    r.box()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePizzaStore)</span> <span class="title">createPizza</span><span class="params">(t string)</span> <span class="title">Pizza</span> &#123;</span></span><br><span class="line">    <span class="keyword">switch</span> t &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"cheese"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewNYStyleCheesePizaa()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"veggie"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewNYStyleVeggiePizza()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"clam"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewNYStyleClamPizza()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"pepperoni"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewNYStylePepperoniPizza()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nil</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ChicagoStylePizzaStore struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePizzaStore)</span> <span class="title">OrderPizza</span><span class="params">(t string)</span> <span class="title">Pizza</span> &#123;</span></span><br><span class="line">    var r Pizza</span><br><span class="line">    r = f.createPizza(t)</span><br><span class="line"></span><br><span class="line">    r.prepare()</span><br><span class="line">    r.bake()</span><br><span class="line">    r.cut()</span><br><span class="line">    r.box()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePizzaStore)</span> <span class="title">createPizza</span><span class="params">(t string)</span> <span class="title">Pizza</span> &#123;</span></span><br><span class="line">    <span class="keyword">switch</span> t &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"cheese"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewChicagoStyleCheesePizza()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"veggie"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewChicagoStyleVeggiePizza()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"clam"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewChicagoStyleClamPizza()</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"pepperoni"</span>:</span><br><span class="line">        <span class="keyword">return</span> NewChicagoStylePepperoniPizza()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nil</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/////////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">type NYStyleCheesePizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNYStyleCheesePizaa</span><span class="params">()</span> *<span class="title">NYStyleCheesePizza</span> &#123;</span></span><br><span class="line">    r := new(NYStyleCheesePizza)</span><br><span class="line">    r.name = <span class="string">"NY Style Sauce and Cheese Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Thin Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Marinara Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Grated Reggiano Chees"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleCheesePizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleCheesePizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleCheesePizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleCheesePizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in official PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type NYStyleVeggiePizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNYStyleVeggiePizza</span><span class="params">()</span> *<span class="title">NYStyleVeggiePizza</span> &#123;</span></span><br><span class="line">    r := new(NYStyleVeggiePizza)</span><br><span class="line">    r.name = <span class="string">"NY Style Veggie Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Thin Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Marinara Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Grated Reggiano Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Garlic"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Onion"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Mushrooms"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Red Pepper"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleVeggiePizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleVeggiePizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleVeggiePizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleVeggiePizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in official PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type NYStyleClamPizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNYStyleClamPizza</span><span class="params">()</span> *<span class="title">NYStyleClamPizza</span> &#123;</span></span><br><span class="line">    r := new(NYStyleClamPizza)</span><br><span class="line">    r.name = <span class="string">"NY Style Clam Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Thin Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Marinara Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Grated Reggiano Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Fresh Clams from Long Island Sound"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleClamPizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleClamPizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleClamPizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStyleClamPizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type NYStylePepperoniPizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNYStylePepperoniPizza</span><span class="params">()</span> *<span class="title">NYStylePepperoniPizza</span> &#123;</span></span><br><span class="line">    r := new(NYStylePepperoniPizza)</span><br><span class="line">    r.name = <span class="string">"NY Style Pepperoni Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Thin Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Marinara Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Grated Reggiano Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Sliced Pepperoni"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Garlic"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Onion"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Mushrooms"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Red Pepper"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePepperoniPizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePepperoniPizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePepperoniPizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *NYStylePepperoniPizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ChicagoStyleCheesePizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewChicagoStyleCheesePizza</span><span class="params">()</span> *<span class="title">ChicagoStyleCheesePizza</span> &#123;</span></span><br><span class="line">    r := new(ChicagoStyleCheesePizza)</span><br><span class="line">    r.name = <span class="string">"Chicago Style Deep Dish Cheese Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Extra Thick Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Plum Tomato Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Shredded Mozzarella Cheese"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleCheesePizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleCheesePizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleCheesePizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleCheesePizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ChicagoStylePepperoniPizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewChicagoStylePepperoniPizza</span><span class="params">()</span> *<span class="title">ChicagoStylePepperoniPizza</span> &#123;</span></span><br><span class="line">    r := new(ChicagoStylePepperoniPizza)</span><br><span class="line">    r.name = <span class="string">"Chicago Style Pepperoni Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Extra Thick Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Plum Tomato Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Shredded Mozzarella Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Black Olives"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Spinach"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Eggplant"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Sliced Pepperoni"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePepperoniPizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePepperoniPizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePepperoniPizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStylePepperoniPizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ChicagoStyleClamPizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewChicagoStyleClamPizza</span><span class="params">()</span> *<span class="title">ChicagoStyleClamPizza</span> &#123;</span></span><br><span class="line">    r := new(ChicagoStyleClamPizza)</span><br><span class="line">    r.name = <span class="string">"Chicago Style Clam Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Extra Thick Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Plum Tomato Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Shredded Mozzarella Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Frozen Clams from Chesapeake Bay"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleClamPizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleClamPizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleClamPizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleClamPizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ChicagoStyleVeggiePizza struct &#123;</span><br><span class="line">    name     <span class="built_in">string</span></span><br><span class="line">    dough    <span class="built_in">string</span></span><br><span class="line">    sauce    <span class="built_in">string</span></span><br><span class="line">    toppings []<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewChicagoStyleVeggiePizza</span><span class="params">()</span> *<span class="title">ChicagoStyleVeggiePizza</span> &#123;</span></span><br><span class="line">    r := new(ChicagoStyleVeggiePizza)</span><br><span class="line">    r.name = <span class="string">"Chicago Deep Dish Veggie Pizza"</span></span><br><span class="line">    r.dough = <span class="string">"Extra Thick Crust Dough"</span></span><br><span class="line">    r.sauce = <span class="string">"Plum Tomato Sauce"</span></span><br><span class="line"></span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Shredded Mozzarella Cheese"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Black Olives"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Spinach"</span>)</span><br><span class="line">    r.toppings = append(r.toppings, <span class="string">"Eggplant"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleVeggiePizza)</span> <span class="title">prepare</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Preparing"</span>, f.name)</span><br><span class="line">    fmt.Println(<span class="string">"Tossing dough..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding sauce..."</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Adding  toppings:"</span>)</span><br><span class="line">    <span class="keyword">for</span> k, _ := range f.toppings &#123;</span><br><span class="line">        fmt.Println(<span class="string">" "</span>, f.toppings[k])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleVeggiePizza)</span> <span class="title">bake</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Bake for 25 minutes at 350"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleVeggiePizza)</span> <span class="title">cut</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Cutting the pizza into diagonal slices"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *ChicagoStyleVeggiePizza)</span> <span class="title">box</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Place pizza in offcial PizzaStore box"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="单例模式">单例模式</h2><h3 id="单例模式：确保一个类只有一个实例，并提供全局访问点。——《HEAD_FIRST_设计模式》">单例模式：确保一个类只有一个实例，并提供全局访问点。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> singleton</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Singleton <span class="keyword">interface</span> &#123;</span><br><span class="line">    PrintSome()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> singleone <span class="keyword">struct</span> &#123;</span><br><span class="line">    v <span class="typename">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> g_singleone *singleone</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> GetInstance(v <span class="typename">int</span>) Singleton &#123;</span><br><span class="line">    <span class="keyword">if</span> g_singleone == <span class="constant">nil</span> &#123;</span><br><span class="line">        g_singleone = &amp;singleone&#123;v&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> g_singleone</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (s *singleone) PrintSome() &#123;</span><br><span class="line">    fmt.Println(<span class="string">"singleton value is"</span>, s.v)</span><br></pre></td></tr></table></figure></p>
<h2 id="命令模式">命令模式</h2><h3 id="命令模式：将请求封装成对象，这可以让你使用不同的请求，队列，或者日志请求来参数化其他对象。命令模式也可以支持撤销操作。——《HEAD_FIRST_设计模式》">命令模式：将请求封装成对象，这可以让你使用不同的请求，队列，或者日志请求来参数化其他对象。命令模式也可以支持撤销操作。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line">package command</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const slotnums = <span class="number">7</span></span><br><span class="line"></span><br><span class="line">type <span class="type">Command</span> interface &#123;</span><br><span class="line">    execute()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////</span></span><br><span class="line">type <span class="type">RemoteControl</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    onCommands  []<span class="type">Command</span></span><br><span class="line">    offCommands []<span class="type">Command</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewRemoteControl</span><span class="params">()</span></span> *<span class="type">RemoteControl</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">RemoteControl</span>)</span><br><span class="line">    r.onCommands = make([]<span class="type">Command</span>, slotnums, slotnums)</span><br><span class="line">    r.offCommands = make([]<span class="type">Command</span>, slotnums, slotnums)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *RemoteControl)</span></span> <span class="type">SetCommand</span>(s uint, on <span class="type">Command</span>, off <span class="type">Command</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> s &gt;= slotnums &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">c</span>.onCommands[s] = on</span><br><span class="line">    <span class="built_in">c</span>.offCommands[s] = off</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *RemoteControl)</span></span> <span class="type">OnButtonWasPushed</span>(s uint) &#123;</span><br><span class="line">    <span class="keyword">if</span> s &gt;= slotnums &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">c</span>.onCommands[s].execute()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *RemoteControl)</span></span> <span class="type">OffButtonWasPushed</span>(s uint) &#123;</span><br><span class="line">    <span class="keyword">if</span> s &gt;= slotnums &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">c</span>.offCommands[s].execute()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////</span></span><br><span class="line">type <span class="type">Light</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Light)</span></span> on() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"light is on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Light)</span></span> off() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"light is off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Stereo</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> on() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo is on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> off() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo is off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> setCd() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo set cd!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> setDvd() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo set dvd!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> setRadio() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo set radio!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Stereo)</span></span> setVolume() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"stereo set volume!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">GarageDoor</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoor)</span></span> up() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"garage door is up!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoor)</span></span> down() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"garage door is down!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoor)</span></span> stop() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"garage door is stopped!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoor)</span></span> lightOn() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"garage door light is on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoor)</span></span> lightOff() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"garage door light is off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////</span></span><br><span class="line">type <span class="type">LightOnCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    light *<span class="type">Light</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewLightOnCommand</span><span class="params">(l *Light)</span></span> *<span class="type">LightOnCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">LightOnCommand</span>)</span><br><span class="line">    r.light = l</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *LightOnCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.light.on()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">LightOffCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    light *<span class="type">Light</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewLightOffCommand</span><span class="params">(l *Light)</span></span> *<span class="type">LightOffCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">LightOffCommand</span>)</span><br><span class="line">    r.light = l</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *LightOffCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.light.off()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">StereoOnWithCDCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    stereo *<span class="type">Stereo</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewStereoOnWithCDCommand</span><span class="params">(s *Stereo)</span></span> *<span class="type">StereoOnWithCDCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">StereoOnWithCDCommand</span>)</span><br><span class="line">    r.stereo = s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *StereoOnWithCDCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.stereo.on()</span><br><span class="line">    <span class="built_in">c</span>.stereo.setCd()</span><br><span class="line">    <span class="built_in">c</span>.stereo.setVolume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">StereoOffCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    stereo *<span class="type">Stereo</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewStereoOffCommand</span><span class="params">(s *Stereo)</span></span> *<span class="type">StereoOffCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">StereoOffCommand</span>)</span><br><span class="line">    r.stereo = s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *StereoOffCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.stereo.off()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">GarageDoorDownCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    garage *<span class="type">GarageDoor</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewGarageDoorDownCommand</span><span class="params">(g *GarageDoor)</span></span> *<span class="type">GarageDoorDownCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">GarageDoorDownCommand</span>)</span><br><span class="line">    r.garage = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoorDownCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.garage.down()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">GarageDoorUpCommand</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    garage *<span class="type">GarageDoor</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewGarageDoorUpCommand</span><span class="params">(g *GarageDoor)</span></span> *<span class="type">GarageDoorUpCommand</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">GarageDoorUpCommand</span>)</span><br><span class="line">    r.garage = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *GarageDoorUpCommand)</span></span> execute() &#123;</span><br><span class="line">    <span class="built_in">c</span>.garage.up()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="适配器模式">适配器模式</h2><h3 id="适配器模式：将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。——《HEAD_FIRST_设计模式》">适配器模式：将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">package adapter</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line">type <span class="type">Duck</span> interface &#123;</span><br><span class="line">    <span class="type">Quack</span>()</span><br><span class="line">    <span class="type">Fly</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Turkey</span> interface &#123;</span><br><span class="line">    <span class="type">Gobble</span>()</span><br><span class="line">    <span class="type">Fly</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">MallardDuck</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *MallardDuck)</span></span> <span class="type">Quack</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Quack"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *MallardDuck)</span></span> <span class="type">Fly</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"I'm flying"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">WildTurkey</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *WildTurkey)</span></span> <span class="type">Gobble</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"Gobble gobble"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *WildTurkey)</span></span> <span class="type">Fly</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"I'm flying a short distance"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">TurkeyAdapter</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    turkey <span class="type">Turkey</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewTurkeyAdapter</span><span class="params">(t Turkey)</span></span> *<span class="type">TurkeyAdapter</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">TurkeyAdapter</span>)</span><br><span class="line">    r.turkey = t</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *TurkeyAdapter)</span></span> <span class="type">Quack</span>() &#123;</span><br><span class="line">    a.turkey.<span class="type">Gobble</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(a *TurkeyAdapter)</span></span> <span class="type">Fly</span>() &#123;</span><br><span class="line">    a.turkey.<span class="type">Fly</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="外观模式">外观模式</h2><h3 id="外观模式：提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。——《HEAD_FIRST_设计模式》">外观模式：提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">package facade</span><br><span class="line"></span><br><span class="line">import <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line">type PopcornPopper struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *PopcornPopper)</span> <span class="title">On</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"popper on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *PopcornPopper)</span> <span class="title">Off</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"popper off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *PopcornPopper)</span> <span class="title">Pop</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"popper pop!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type TheaterLights struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *TheaterLights)</span> <span class="title">Dim</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"theaterlights dim!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *TheaterLights)</span> <span class="title">On</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"theaterlights on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Screen struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Screen)</span> <span class="title">Down</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"screen down!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Screen)</span> <span class="title">Up</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"screen up!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Projector struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Projector)</span> <span class="title">On</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"projector on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Projector)</span> <span class="title">Off</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"projector off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Projector)</span> <span class="title">WideScreenMode</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"projector widescreenmode!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Amplifier struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Amplifier)</span> <span class="title">On</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"amplifier on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Amplifier)</span> <span class="title">Off</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"amplifier off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Amplifier)</span> <span class="title">SetDvd</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"amplifier setdvd!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Amplifier)</span> <span class="title">SetSurroundSound</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"amplifier setsurroundsound!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *Amplifier)</span> <span class="title">SetVolume</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"amplifier setvolume!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type DvdPlayer struct &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *DvdPlayer)</span> <span class="title">On</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"dvd on!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *DvdPlayer)</span> <span class="title">Play</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"dvd play!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *DvdPlayer)</span> <span class="title">Stop</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"dvd stop!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *DvdPlayer)</span> <span class="title">Eject</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"dvd eject!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *DvdPlayer)</span> <span class="title">Off</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"dvd off!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type HomeTheaterFacade struct &#123;</span><br><span class="line">    amp       Amplifier</span><br><span class="line">    dvd       DvdPlayer</span><br><span class="line">    projector Projector</span><br><span class="line">    light     TheaterLights</span><br><span class="line">    screen    Screen</span><br><span class="line">    popper    PopcornPopper</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewHomeTheaterFacade</span><span class="params">(a Amplifier, d DvdPlayer, p Projector, l TheaterLights, s Screen, po PopcornPopper)</span> *<span class="title">HomeTheaterFacade</span> &#123;</span></span><br><span class="line">    r := new(HomeTheaterFacade)</span><br><span class="line">    r.amp = a</span><br><span class="line">    r.dvd = d</span><br><span class="line">    r.projector = p</span><br><span class="line">    r.light = l</span><br><span class="line">    r.screen = s</span><br><span class="line">    r.popper = po</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *HomeTheaterFacade)</span> <span class="title">WatchMovie</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"watch movie!"</span>)</span><br><span class="line">    f.popper.On()</span><br><span class="line">    f.popper.Pop()</span><br><span class="line">    f.light.<span class="keyword">Dim</span>()</span><br><span class="line">    f.screen.Down()</span><br><span class="line">    f.projector.On()</span><br><span class="line">    f.projector.WideScreenMode()</span><br><span class="line">    f.amp.On()</span><br><span class="line">    f.amp.SetDvd()</span><br><span class="line">    f.amp.SetSurroundSound()</span><br><span class="line">    f.amp.SetVolume()</span><br><span class="line">    f.dvd.On()</span><br><span class="line">    f.dvd.Play()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *HomeTheaterFacade)</span> <span class="title">EndMovie</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"end movie!"</span>)</span><br><span class="line">    f.popper.Off()</span><br><span class="line">    f.light.On()</span><br><span class="line">    f.screen.Up()</span><br><span class="line">    f.projector.Off()</span><br><span class="line">    f.amp.Off()</span><br><span class="line">    f.dvd.Stop()</span><br><span class="line">    f.dvd.Eject()</span><br><span class="line">    f.dvd.Off()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="模板方法模式">模板方法模式</h2><h3 id="模板方法模式：在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。——《HEAD_FIRST_设计模式》">模板方法模式：在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">package template</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type <span class="type">Caffeine</span> interface &#123;</span><br><span class="line">    brew()</span><br><span class="line">    addCondiments()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////</span></span><br><span class="line">type <span class="type">Tea</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *Tea)</span></span> brew() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"tea brew!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *Tea)</span></span> addCondiments() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"tea addCondiments!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////</span></span><br><span class="line">type <span class="type">Coffee</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *Coffee)</span></span> brew() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"coffee brew!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *Coffee)</span></span> addCondiments() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"coffee addCondiments!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////</span></span><br><span class="line">type <span class="type">CaffeineBeverage</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    <span class="type">Caffeine</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewCaffeineBeverage</span><span class="params">(<span class="built_in">c</span> Caffeine)</span></span> *<span class="type">CaffeineBeverage</span> &#123;</span><br><span class="line">    t := <span class="keyword">new</span>(<span class="type">CaffeineBeverage</span>)</span><br><span class="line">    t.<span class="type">Caffeine</span> = <span class="built_in">c</span></span><br><span class="line">    <span class="keyword">return</span> t</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *CaffeineBeverage)</span></span> <span class="type">PrepareRecipe</span>() &#123;</span><br><span class="line">    t.boilWater()</span><br><span class="line">    t.brew()</span><br><span class="line">    t.pourInCup()</span><br><span class="line">    t.addCondiments()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *CaffeineBeverage)</span></span> boilWater() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"boilWater!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(t *CaffeineBeverage)</span></span> pourInCup() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"pourInCup!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="迭代器模式">迭代器模式</h2><h3 id="迭代器模式：提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示。——《HEAD_FIRST_设计模式》">迭代器模式：提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> iterator</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MenuItem <span class="keyword">struct</span> &#123;</span><br><span class="line">    name        <span class="typename">string</span></span><br><span class="line">    description <span class="typename">string</span></span><br><span class="line">    vegetarian  <span class="typename">bool</span></span><br><span class="line">    price       <span class="typename">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewMenuItem(n <span class="typename">string</span>, d <span class="typename">string</span>, v <span class="typename">bool</span>, p <span class="typename">float32</span>) *MenuItem &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(MenuItem)</span><br><span class="line">    r.name = n</span><br><span class="line">    r.description = d</span><br><span class="line">    r.vegetarian = v</span><br><span class="line">    r.price = p</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *MenuItem) getName() <span class="typename">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *MenuItem) getDescription() <span class="typename">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i.description</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *MenuItem) getPrice() <span class="typename">float32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i.price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *MenuItem) isVegetarian() <span class="typename">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i.vegetarian</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">type</span> Menu <span class="keyword">interface</span> &#123;</span><br><span class="line">    createIterator() Iterator</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PancakeHouseMenu <span class="keyword">struct</span> &#123;</span><br><span class="line">    menuItems []*MenuItem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewPancakeHouseMenu() *PancakeHouseMenu &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(PancakeHouseMenu)</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"K&amp;B's Pancake Breakfast"</span>, <span class="string">"Pancakes with scrambled eggs, and toast"</span>, <span class="constant">true</span>, <span class="number">2.99</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Regular Pancake Breakfast"</span>, <span class="string">"Pancakes with fired eggs, sausage"</span>, <span class="constant">false</span>, <span class="number">2.99</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Blueberry Pancakes"</span>, <span class="string">"Pancakes made with fresh blueberries"</span>, <span class="constant">true</span>, <span class="number">3.49</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Waffles"</span>, <span class="string">"Waffles, with your choice of blueberries or strawberries"</span>, <span class="constant">true</span>, <span class="number">3.59</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *PancakeHouseMenu) createIterator() Iterator &#123;</span><br><span class="line">    <span class="keyword">return</span> NewPancakeHouseMenuIterator(i.menuItems)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">type</span> DinerMenu <span class="keyword">struct</span> &#123;</span><br><span class="line">    menuItems []*MenuItem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewDinerMenu() *DinerMenu &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(DinerMenu)</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Vegetarian BLT"</span>, <span class="string">"(Fakin') Bacon with lettuce &amp; tomato on whole wheat"</span>, <span class="constant">true</span>, <span class="number">2.99</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"BLT"</span>, <span class="string">"Bacon with lettuce &amp; tomato on whole wheat"</span>, <span class="constant">false</span>, <span class="number">2.99</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Soup of the day"</span>, <span class="string">"Soup of the day, with a side of potato salad"</span>, <span class="constant">false</span>, <span class="number">3.29</span>))</span><br><span class="line">    r.menuItems = <span class="built_in">append</span>(r.menuItems, NewMenuItem(<span class="string">"Hotdog"</span>, <span class="string">"A hot dog, with saurkraut, relish, onions, topped with cheese"</span>, <span class="constant">false</span>, <span class="number">3.05</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *DinerMenu) createIterator() Iterator &#123;</span><br><span class="line">    <span class="keyword">return</span> NewDinerMenuIterator(i.menuItems)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">type</span> Iterator <span class="keyword">interface</span> &#123;</span><br><span class="line">    hasNext() <span class="typename">bool</span></span><br><span class="line">    next() <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PancakeHouseMenuIterator <span class="keyword">struct</span> &#123;</span><br><span class="line">    m []*MenuItem</span><br><span class="line">    p <span class="typename">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewPancakeHouseMenuIterator(m []*MenuItem) *PancakeHouseMenuIterator &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(PancakeHouseMenuIterator)</span><br><span class="line">    r.m = m</span><br><span class="line">    r.p = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *PancakeHouseMenuIterator) hasNext() <span class="typename">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i.p &gt;= <span class="built_in">len</span>(i.m) || i.m[i.p] == <span class="constant">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="constant">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *PancakeHouseMenuIterator) next() <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    <span class="keyword">var</span> r <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    r = i.m[i.p]</span><br><span class="line">    i.p++</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> DinerMenuIterator <span class="keyword">struct</span> &#123;</span><br><span class="line">    m []*MenuItem</span><br><span class="line">    p <span class="typename">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewDinerMenuIterator(m []*MenuItem) *DinerMenuIterator &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(DinerMenuIterator)</span><br><span class="line">    r.m = m</span><br><span class="line">    r.p = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *DinerMenuIterator) hasNext() <span class="typename">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i.p &gt;= <span class="built_in">len</span>(i.m) || i.m[i.p] == <span class="constant">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="constant">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *DinerMenuIterator) next() <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    <span class="keyword">var</span> r <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    r = i.m[i.p]</span><br><span class="line">    i.p++</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////////</span></span><br><span class="line"><span class="keyword">type</span> Waitress <span class="keyword">struct</span> &#123;</span><br><span class="line">    p Menu</span><br><span class="line">    d Menu</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> NewWaitress(p Menu, d Menu) *Waitress &#123;</span><br><span class="line">    r := <span class="built_in">new</span>(Waitress)</span><br><span class="line">    r.p = p</span><br><span class="line">    r.d = d</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *Waitress) PrintMenu() &#123;</span><br><span class="line">    it := i.p.createIterator()</span><br><span class="line">    fmt.Println(<span class="string">"MENU\n----\nBREAKFAST"</span>)</span><br><span class="line">    i.printMenu(it)</span><br><span class="line">    it = i.d.createIterator()</span><br><span class="line">    fmt.Println(<span class="string">"\nLUNCH"</span>)</span><br><span class="line">    i.printMenu(it)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> (i *Waitress) printMenu(it Iterator) &#123;</span><br><span class="line">    <span class="keyword">for</span> it.hasNext() &#123;</span><br><span class="line">        a := it.next()</span><br><span class="line">        t := a.(*MenuItem)</span><br><span class="line"></span><br><span class="line">        fmt.Print(t.getName(), <span class="string">","</span>)</span><br><span class="line">        fmt.Print(t.getPrice(), <span class="string">"--"</span>)</span><br><span class="line">        fmt.Println(t.getDescription())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="组合模式">组合模式</h2><h3 id="组合模式：允许你将对象组成树形结构来表现“整体/部分”的层次结构。组合能让客户以一致的方式处理个别对象和对象组合。——《HEAD_FIRST_设计模式》">组合模式：允许你将对象组成树形结构来表现“整体/部分”的层次结构。组合能让客户以一致的方式处理个别对象和对象组合。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">package composite</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type <span class="type">MenuComponent</span> interface &#123;</span><br><span class="line">    <span class="type">MenuPrint</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Menu</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    name          string</span><br><span class="line">    description   string</span><br><span class="line">    menuComponent []<span class="type">MenuComponent</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewMenu</span><span class="params">(n string, d string)</span></span> *<span class="type">Menu</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Menu</span>)</span><br><span class="line">    r.name = n</span><br><span class="line">    r.description = d</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Menu)</span></span> <span class="type">Add</span>(m <span class="type">MenuComponent</span>) &#123;</span><br><span class="line">    <span class="built_in">c</span>.menuComponent = append(<span class="built_in">c</span>.menuComponent, m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Menu)</span></span> <span class="type">GetName</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Menu)</span></span> <span class="type">GetDescription</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.description</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Menu)</span></span> <span class="type">MenuPrint</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="built_in">c</span>.name)</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="built_in">c</span>.description)</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="string">"-------------------------------"</span>)</span><br><span class="line">    <span class="keyword">for</span> i, <span class="number">_</span> := range <span class="built_in">c</span>.menuComponent &#123;</span><br><span class="line">        <span class="built_in">c</span>.menuComponent[i].<span class="type">MenuPrint</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">MenuItem</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    name        string</span><br><span class="line">    description string</span><br><span class="line">    vegetarian  bool</span><br><span class="line">    price       float32</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewMenuItem</span><span class="params">(n string, d string, v bool, p float32)</span></span> *<span class="type">MenuItem</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">MenuItem</span>)</span><br><span class="line">    r.name = n</span><br><span class="line">    r.description = d</span><br><span class="line">    r.vegetarian = v</span><br><span class="line">    r.price = p</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *MenuItem)</span></span> getName() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *MenuItem)</span></span> getDescription() string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.description</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *MenuItem)</span></span> getPrice() float32 &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *MenuItem)</span></span> isVegetarian() bool &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">c</span>.vegetarian</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *MenuItem)</span></span> <span class="type">MenuPrint</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="built_in">c</span>.name)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">c</span>.vegetarian &#123;</span><br><span class="line">        fmt.<span class="type">Println</span>(<span class="string">"(v)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="built_in">c</span>.price)</span><br><span class="line">    fmt.<span class="type">Println</span>(<span class="built_in">c</span>.description)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//////////////////////////////////////////////////////////</span></span><br><span class="line">type <span class="type">Waitress</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    allMenus <span class="type">MenuComponent</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewWaitress</span><span class="params">(a MenuComponent)</span></span> *<span class="type">Waitress</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Waitress</span>)</span><br><span class="line">    r.allMenus = a</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(<span class="built_in">c</span> *Waitress)</span></span> <span class="type">PrintMenu</span>() &#123;</span><br><span class="line">    <span class="built_in">c</span>.allMenus.<span class="type">MenuPrint</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="状态模式">状态模式</h2><h3 id="状态模式：允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类。——《HEAD_FIRST_设计模式》">状态模式：允许对象在内部状态改变时改变它的行为，对象看起来好像修改了它的类。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line">package state</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type State interface &#123;</span><br><span class="line">    insertQuarter()</span><br><span class="line">    ejectQuarter()</span><br><span class="line">    turnCrank()</span><br><span class="line">    dispense()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type SoldOutState struct &#123;</span><br><span class="line">    gMachine *GumballMachine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewSoldOutState</span><span class="params">(g *GumballMachine)</span> *<span class="title">SoldOutState</span> &#123;</span></span><br><span class="line">    r := new(SoldOutState)</span><br><span class="line">    r.gMachine = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldOutState)</span> <span class="title">insertQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You can't insert a quarter, the machine is sold out"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldOutState)</span> <span class="title">ejectQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You can't eject, you haven't inserted a quarter yet"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldOutState)</span> <span class="title">turnCrank</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You turned, but there are no gumballs"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldOutState)</span> <span class="title">dispense</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"No gumball dispensed"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type NoQuarterState struct &#123;</span><br><span class="line">    gMachine *GumballMachine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewNoQuarterState</span><span class="params">(g *GumballMachine)</span> *<span class="title">NoQuarterState</span> &#123;</span></span><br><span class="line">    r := new(NoQuarterState)</span><br><span class="line">    r.gMachine = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *NoQuarterState)</span> <span class="title">insertQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You inserted a quarter"</span>)</span><br><span class="line">    s.gMachine.setState(s.gMachine.getHasQuarterState())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *NoQuarterState)</span> <span class="title">ejectQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You haven't inserted a quarter"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *NoQuarterState)</span> <span class="title">turnCrank</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You turned, but there's no quarter"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *NoQuarterState)</span> <span class="title">dispense</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You need to pay first"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type HasQuarterState struct &#123;</span><br><span class="line">    gMachine *GumballMachine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewHasNoQuarterState</span><span class="params">(g *GumballMachine)</span> *<span class="title">HasQuarterState</span> &#123;</span></span><br><span class="line">    r := new(HasQuarterState)</span><br><span class="line">    r.gMachine = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *HasQuarterState)</span> <span class="title">insertQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You can't insert another quarter"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *HasQuarterState)</span> <span class="title">ejectQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Quarter returned"</span>)</span><br><span class="line">    s.gMachine.setState(s.gMachine.getNoQuarterState())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *HasQuarterState)</span> <span class="title">turnCrank</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"You turned..."</span>)</span><br><span class="line">    s.gMachine.setState(s.gMachine.getSoldState())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *HasQuarterState)</span> <span class="title">dispense</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"No gumball dispensed"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type SoldState struct &#123;</span><br><span class="line">    gMachine *GumballMachine</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewSoldState</span><span class="params">(g *GumballMachine)</span> *<span class="title">SoldState</span> &#123;</span></span><br><span class="line">    r := new(SoldState)</span><br><span class="line">    r.gMachine = g</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldState)</span> <span class="title">insertQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Please wait, we're already giving you a gumball"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldState)</span> <span class="title">ejectQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Sorry, you already turned the crank"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldState)</span> <span class="title">turnCrank</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"Turning twice doesn't get you another gumball!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *SoldState)</span> <span class="title">dispense</span><span class="params">()</span> &#123;</span></span><br><span class="line">    s.gMachine.releaseBall()</span><br><span class="line">    <span class="keyword">if</span> s.gMachine.getCount() &gt; <span class="number">0</span> &#123;</span><br><span class="line">        s.gMachine.setState(s.gMachine.getNoQuarterState())</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"Oops, out of gumballs!"</span>)</span><br><span class="line">        s.gMachine.setState(s.gMachine.getSoldOutState())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/////////////////////////////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">type GumballMachine struct &#123;</span><br><span class="line">    count           <span class="built_in">int</span></span><br><span class="line">    soldOutState    State</span><br><span class="line">    noQuarterState  State</span><br><span class="line">    hasQuarterState State</span><br><span class="line">    soldState       State</span><br><span class="line"></span><br><span class="line">    curState State</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewGumballMachine</span><span class="params">(n int)</span> *<span class="title">GumballMachine</span> &#123;</span></span><br><span class="line">    r := new(GumballMachine)</span><br><span class="line">    r.count = n</span><br><span class="line">    r.soldOutState = NewSoldOutState(r)</span><br><span class="line">    r.noQuarterState = NewNoQuarterState(r)</span><br><span class="line">    r.hasQuarterState = NewHasNoQuarterState(r)</span><br><span class="line">    r.soldState = NewSoldState(r)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        r.curState = r.noQuarterState</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">InsertQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    s.curState.insertQuarter()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">EjectQuarter</span><span class="params">()</span> &#123;</span></span><br><span class="line">    s.curState.ejectQuarter()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">TurnCrank</span><span class="params">()</span> &#123;</span></span><br><span class="line">    s.curState.turnCrank()</span><br><span class="line">    s.curState.dispense()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">setState</span><span class="params">(st State)</span> &#123;</span></span><br><span class="line">    s.curState = st</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">releaseBall</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"A gumball comes rolling out the slot..."</span>)</span><br><span class="line">    <span class="keyword">if</span> s.count &gt; <span class="number">0</span> &#123;</span><br><span class="line">        s.count--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">getCount</span><span class="params">()</span> <span class="title">int</span> &#123;</span></span><br><span class="line">    <span class="keyword">return</span> s.count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">getSoldOutState</span><span class="params">()</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    <span class="keyword">return</span> s.soldOutState</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">getNoQuarterState</span><span class="params">()</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    <span class="keyword">return</span> s.noQuarterState</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">getHasQuarterState</span><span class="params">()</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    <span class="keyword">return</span> s.hasQuarterState</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *GumballMachine)</span> <span class="title">getSoldState</span><span class="params">()</span> <span class="title">State</span> &#123;</span></span><br><span class="line">    <span class="keyword">return</span> s.soldState</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="代理模式">代理模式</h2><h3 id="代理模式：为另一个对象提供一个替身或占位符以访问这个对象。——《HEAD_FIRST_设计模式》">代理模式：为另一个对象提供一个替身或占位符以访问这个对象。——《HEAD FIRST 设计模式》</h3><p>golang代码：<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">package proxy</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type <span class="type">GiveGift</span> interface &#123;</span><br><span class="line">    <span class="type">GiveDolls</span>()</span><br><span class="line">    <span class="type">GiveFlowers</span>()</span><br><span class="line">    <span class="type">GiveChocolate</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">SchoolGirl</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    name string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewSchoolGirl</span><span class="params">(n string)</span></span> *<span class="type">SchoolGirl</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">SchoolGirl</span>)</span><br><span class="line">    r.name = n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *SchoolGirl)</span></span> <span class="type">GetName</span>() string &#123;</span><br><span class="line">    <span class="keyword">return</span> p.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Proxy</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    gg *<span class="type">Pursuit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewProxy</span><span class="params">(m *SchoolGirl)</span></span> *<span class="type">Proxy</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Proxy</span>)</span><br><span class="line">    r.gg = <span class="type">NewPursuit</span>(m)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Proxy)</span></span> <span class="type">GiveDolls</span>() &#123;</span><br><span class="line">    p.gg.<span class="type">GiveDolls</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Proxy)</span></span> <span class="type">GiveFlowers</span>() &#123;</span><br><span class="line">    p.gg.<span class="type">GiveFlowers</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Proxy)</span></span> <span class="type">GiveChocolate</span>() &#123;</span><br><span class="line">    p.gg.<span class="type">GiveChocolate</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="type">Pursuit</span> <span class="class"><span class="keyword">struct</span> </span>&#123;</span><br><span class="line">    mm *<span class="type">SchoolGirl</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">NewPursuit</span><span class="params">(m *SchoolGirl)</span></span> *<span class="type">Pursuit</span> &#123;</span><br><span class="line">    r := <span class="keyword">new</span>(<span class="type">Pursuit</span>)</span><br><span class="line">    r.mm = m</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Pursuit)</span></span> <span class="type">GiveDolls</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(p.mm.<span class="type">GetName</span>(), <span class="string">"送你洋娃娃"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Pursuit)</span></span> <span class="type">GiveFlowers</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(p.mm.<span class="type">GetName</span>(), <span class="string">"送你鲜花"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="params">(p *Pursuit)</span></span> <span class="type">GiveChocolate</span>() &#123;</span><br><span class="line">    fmt.<span class="type">Println</span>(p.mm.<span class="type">GetName</span>(), <span class="string">"送你巧克力"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/">Go</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Golang-编程百例" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/21/Golang-编程百例/" class="article-date">
  	<time datetime="2015-10-20T19:40:40.000Z" itemprop="datePublished">2015-10-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/21/Golang-编程百例/">Golang 编程百例</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="说明">说明</h1><p>本文初级篇内容依据《C语言经典算法100例》编写，提高篇内容依据《C语言趣味编程100例》编写，可以作为Go语言学习中的小测验。 </p>
<p>由于有些题目利用到C语言特性，针对这些题目只能尽可能的替换成Go语言写法。</p>
<h2 id="初级篇">初级篇</h2><h3 id="程序_01：数字排列组合">程序 01：数字排列组合</h3><p>题目：有 1、2、3、4 个数字，能组成多少个互不相同且无重复数字的三位数？都是多少？<br>1.程序分析：可填在百位、十位、个位的数字都是 1、2、3、4。组成所有的排列后再去<br>掉不满足条件的排列。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*以下为三重循环*/</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">1</span>; j &lt; <span class="number">5</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">for</span> k := <span class="number">1</span>; k &lt; <span class="number">5</span>; k++ &#123;</span><br><span class="line">                <span class="comment">/*确保 i 、j 、k 三位互不相同*/</span></span><br><span class="line">                <span class="keyword">if</span> i != k &amp;&amp; i != j &amp;&amp; j != k &#123;</span><br><span class="line">                    fmt.Println(i, j, k)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_02：阶梯利润分配">程序 02：阶梯利润分配</h3><p>题目：企业发放的奖金根据利润提成。利润(I)低于或等于10万元时，奖金可提成10%；利润高于10万元，低于20万元，低于10万元的部分按10%提成，高于10万元的部分，可提成7.5%；20万到40万之间时，高于20万元的部分，可提成5%；40万到60万之间时高于40万元的部分，可提成3%；60万到100万之间时，高于60万元的部分，可提成1.5%，高于100万元时，超过100万元的部分按1%提成，从键盘输入当月利润I，求应发放奖金总数？<br>1.程序分析：请利用数轴来分界，定位。注意定义时需把奖金定义成长整型。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var I float32 = <span class="number">0.0</span></span><br><span class="line">    var bonus float32 = <span class="number">0.0</span></span><br><span class="line">    fmt.Print(<span class="string">"输入利润："</span>)</span><br><span class="line">    fmt.Scanf(<span class="string">"%f\n"</span>, &amp;I)</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> I &gt; <span class="number">1000000</span>:</span><br><span class="line">        bonus = (I - <span class="number">1000000</span>) * <span class="number">0.01</span></span><br><span class="line">        I = <span class="number">1000000</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> I &gt; <span class="number">600000</span>:</span><br><span class="line">        bonus += (I - <span class="number">600000</span>) * <span class="number">0.015</span></span><br><span class="line">        I = <span class="number">600000</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> I &gt; <span class="number">400000</span>:</span><br><span class="line">        bonus += (I - <span class="number">400000</span>) * <span class="number">0.03</span></span><br><span class="line">        I = <span class="number">400000</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> I &gt; <span class="number">200000</span>:</span><br><span class="line">        bonus += (I - <span class="number">200000</span>) * <span class="number">0.05</span></span><br><span class="line">        I = <span class="number">200000</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> I &gt; <span class="number">100000</span>:</span><br><span class="line">        bonus += (I - <span class="number">100000</span>) * <span class="number">0.075</span></span><br><span class="line">        I = <span class="number">100000</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        bonus += I * <span class="number">0.1</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"提成总计：%f\n"</span>, bonus)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_03：完全平方数">程序 03：完全平方数</h3><p>题目：一个整数，它加上 100 后是一个完全平方数，再加上 168 又是一个完全平方数，请问该数是多少？<br>1.程序分析：在10万以内判断，先将该数加上100后再开方，再将该数加上268后再开方，如果开方后的结果满足如下条件，即是结果。请看具体分析：<br>2.程序源代码：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="function">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    i := 0</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        x := <span class="keyword">int</span>(math.Sqrt(float64(i + 100)))</span><br><span class="line">        y := <span class="keyword">int</span>(math.Sqrt(float64(i + 268)))</span><br><span class="line">        <span class="keyword">if</span> x*x == i+100 &amp;&amp; y*y == i+268 &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"这个数字是%d\n"</span>, i)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_04：这一年的第几天">程序 04：这一年的第几天</h3><p>题目：输入某年某月某日，判断这一天是这一年的第几天？<br>1.程序分析：以3月5日为例，应该先把前两个月的加起来，然后再加上5天即本年的第几天，特殊情况，闰年且输入月份大于3时需考虑多加一天。<br>2.程序源代码：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    "fmt"</span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    var y, m, d int = <span class="operator">0, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">days</span> <span class="built_in">int</span> = <span class="number">0</span></span><br><span class="line">    fmt.Scanf(<span class="string">"%d%d%d\n"</span>, &amp;y, &amp;<span class="keyword">m</span>, &amp;<span class="keyword">d</span>)</span><br><span class="line">    fmt.Printf(<span class="string">"%d年%d月%d日"</span>, y, <span class="keyword">m</span>, <span class="keyword">d</span>)</span><br><span class="line">    <span class="keyword">switch</span> <span class="keyword">m</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">30</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">30</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">30</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">30</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">28</span></span><br><span class="line">        <span class="keyword">if</span> (y%<span class="number">400</span> == <span class="number">0</span>) || (y%<span class="number">4</span> == <span class="number">0</span> &amp;&amp; y%<span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">d</span> += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">        <span class="keyword">d</span> = <span class="number">31</span></span><br><span class="line">        fallthrough</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">days</span> += <span class="keyword">d</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"是今年的第%d天!\n"</span>, <span class="keyword">days</span>)</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="程序_05：数字排序">程序 05：数字排序</h3><p>题目：输入三个整数 x,y,z，请把这三个数由小到大输出。<br>1.程序分析：我们想办法把最小的数放到 x 上，先将 x 与 y 进行比较，如果 x&gt;y 则将 x 与 y<br>的值进行交换，然后再用 x 与 z 进行比较，如果 x&gt;z 则将 x 与 z 的值进行交换，这样能使 x 最小。<br>2.程序源代码：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    var <span class="keyword">x</span>, <span class="keyword">y</span>, z <span class="keyword">int</span> = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    fmt.Scanf(<span class="string">"<span class="variable">%d</span><span class="variable">%d</span><span class="variable">%d</span>"</span>, &amp;<span class="keyword">x</span>, &amp;<span class="keyword">y</span>, &amp;z)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">x</span> &gt; <span class="keyword">y</span> &#123;</span><br><span class="line">        <span class="keyword">x</span>, <span class="keyword">y</span> = <span class="keyword">y</span>, <span class="keyword">x</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">x</span> &gt; z &#123;</span><br><span class="line">        <span class="keyword">x</span>, z = z, <span class="keyword">x</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">y</span> &gt; z &#123;</span><br><span class="line">        <span class="keyword">y</span>, z = z, <span class="keyword">y</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%d</span>&lt;<span class="variable">%d</span>&lt;<span class="variable">%d</span>\n"</span>, <span class="keyword">x</span>, <span class="keyword">y</span>, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_06：打印图形">程序 06：打印图形</h3><p>题目：用<em>号输出字母 C 的图案。<br>1.程序分析：可先用’</em>‘号在纸上写出字母 C，再分行输出。<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"*****\n"</span>)</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"**\n"</span>)</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"*\n"</span>)</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"**\n"</span>)</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"*****\n"</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_07：输出特殊图案">程序 07：输出特殊图案</h3><p>题目：输出特殊图案，请在 c 环境中运行，看一看，Very Beautiful!<br>1.程序分析：字符共有 256 个。不同字符，图形不一样。<br>2.程序源代码：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    var a, b = <span class="number">176</span>, <span class="number">219</span></span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span> \n"</span>, b, a, a, a, b)</span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span> \n"</span>, a, b, a, b, a)</span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span> \n"</span>, a, a, b, a, a)</span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span> \n"</span>, a, b, a, b, a)</span><br><span class="line">    fmt.Printf(<span class="string">"<span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span><span class="variable">%c</span> \n"</span>, b, a, a, a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_08：9*9_口诀">程序 08：9*9 口诀</h3><p>题目：输出 9*9 口诀。<br>1.程序分析：分行与列考虑，共 9 行 9 列，i 控制行，j 控制列。<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">1</span>; j &lt;= i; j++ &#123;</span><br><span class="line">            fmt.Printf<span class="params">(<span class="string">"%d*%d=%-3d"</span>, j, i, i*j)</span> <span class="comment">/*-3d 表示左对齐，占 3 位*/</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"\n"</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_09：象棋棋盘">程序 09：象棋棋盘</h3><p>题目：要求输出国际象棋棋盘。<br>1.程序分析：用 i 控制行， j 来控制列，根据i+j的和的变化来控制输出黑方格，还是白方格。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">8</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> (i+j)%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">                fmt.Printf(<span class="string">"■"</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fmt.Printf(<span class="string">"□"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">"\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_10：打印楼梯">程序 10：打印楼梯</h3><p>题目：打印楼梯，同时在楼梯上方打印笑脸。<br>1.程序分析：用 i 控制行，j 来控制列，j 根据 i 的变化来控制输出黑方格的个数。<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt;= i; j++ &#123;</span><br><span class="line">            fmt.Printf<span class="params">(<span class="string">"■■"</span>)</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"☺\n"</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_11：兔子问题">程序 11：兔子问题</h3><p>题目：古典问题：有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第三个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少？<br>1.程序分析： 兔子的规律为数列 1,1,2,3,5,8,13,21….<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var m1, m2 <span class="keyword">int</span> = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="number">12</span>; i++ &#123;</span><br><span class="line">        fmt.Println(m1, m2)</span><br><span class="line">        m1 += m2</span><br><span class="line">        m2 += m1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_12：求素数">程序 12：求素数</h3><p>题目：判断 101-200 之间有多少个素数，并输出所有素数。<br>1.程序分析：判断素数的方法：用一个数分别去除2到sqrt(这个数)，如果能被整除，则表明此数不是素数，反之是素数。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var i, j, k, count <span class="keyword">int</span> = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">101</span>; i &lt;= <span class="number">200</span>; i++ &#123;</span><br><span class="line">        k = <span class="keyword">int</span>(math.Sqrt(float64(i)))</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">2</span>; j &lt;= k; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i%j == <span class="number">0</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> j == k+<span class="number">1</span> &#123;</span><br><span class="line">            fmt.Println(i)</span><br><span class="line">            count++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"total"</span>, count)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_13：水仙花数">程序 13：水仙花数</h3><p>题目：打印出所有的“水仙花数”，所谓“水仙花数”是指一个三位数，其各位数字立方和等于该数本身。例如：153 是一个“水仙花数”，因为 153=1 的三次方＋5 的三次方＋3 的三次方。<br>1.程序分析：利用for循环控制100-999个数，每个数分解出个位，十位，百位。<br>2.程序源代码：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="literal">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">num</span> := <span class="number">100</span>; <span class="built_in">num</span> &lt; <span class="number">1000</span>; <span class="built_in">num</span>++ &#123;</span><br><span class="line">        i := <span class="built_in">num</span> / <span class="number">100</span></span><br><span class="line">        j := <span class="built_in">num</span> / <span class="number">10</span> % <span class="number">10</span></span><br><span class="line">        k := <span class="built_in">num</span> % <span class="number">10</span></span><br><span class="line">        <span class="keyword">if</span> i*i*i+j*j*j+k*k*k == <span class="built_in">num</span> &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"%d^3+%d^3+%d^3=%d\n"</span>, i, j, k, <span class="built_in">num</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_14：分解质因数">程序 14：分解质因数</h3><p>题目：将一个正整数分解质因数。例如：输入 90,打印出 90=2<em>3</em>3*5。<br>程序分析：对n进行分解质因数，应先找到一个最小的质数k，然后按下述步骤完成：<br>(1)如果这个质数恰等于n，则说明分解质因数的过程已经结束，打印出即可。<br>(2)如果n&lt;&gt;k，但n能被k整除，则应打印出k的值，并用n除以k的商,作为新的正整数n,重复执行第一步。<br>(3)如果n不能被k整除，则用k+1作为k的值, 重复执行第一步。<br>2.程序源代码：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">n</span>, i int = 0, 0</span><br><span class="line">    fmt.Printf(<span class="string">"please input a number:"</span>)</span><br><span class="line">    fmt.Scanf(<span class="string">"%d\n"</span>, &amp;<span class="keyword">n</span>)</span><br><span class="line">    fmt.Printf(<span class="string">"%d="</span>, <span class="keyword">n</span>)</span><br><span class="line">    <span class="keyword">for</span> i = 2; i &lt;= <span class="keyword">n</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">n</span> != i &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">n</span>%i == 0 &#123;</span><br><span class="line">                fmt.Printf(<span class="string">"%d*"</span>, i)</span><br><span class="line">                <span class="keyword">n</span> = <span class="keyword">n</span> / <span class="literal">i</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"%d\n"</span>, <span class="keyword">n</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_15：三元表达式">程序 15：三元表达式</h3><p>题目：利用条件运算符的嵌套来完成此题：学习成绩&gt;=90 分的同学用 A 表示，60-89 分之<br>间的用 B 表示，60分以下的用C表示。<br>1.程序分析：(a&gt;b)?a:b 这是条件运算符的基本例子。<br>2.程序源代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> B <span class="typename">bool</span></span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">    <span class="keyword">var</span> score <span class="typename">int</span> = <span class="number">0</span></span><br><span class="line">    fmt.Scanf(<span class="string">"%d"</span>, &amp;score)</span><br><span class="line">    fmt.Println(B(score &gt;= <span class="number">90</span>).C(<span class="string">"A"</span>, B(score &gt;= <span class="number">60</span>).C(<span class="string">"B"</span>, <span class="string">"C"</span>)))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Go语言没有三元表达式,自写函数模仿。</span></span><br><span class="line"><span class="keyword">func</span> (b B) C(t, f <span class="keyword">interface</span>&#123;&#125;) <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="typename">bool</span>(b) == <span class="constant">true</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> t</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_16：最大公约数和最小公倍数">程序 16：最大公约数和最小公倍数</h3><p>题目：输入两个正整数 m 和 n，求其最大公约数和最小公倍数。<br>1.程序分析：利用辗除法。<br>2.程序源代码：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">m</span>, <span class="keyword">n</span>, r, x int</span><br><span class="line">    fmt.Scanf(<span class="string">"%d%d"</span>, &amp;<span class="keyword">m</span>, &amp;<span class="keyword">n</span>)</span><br><span class="line">    x = <span class="keyword">m</span> * <span class="keyword">n</span></span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">n</span> != 0 &#123;</span><br><span class="line">        r = <span class="keyword">m</span> % <span class="keyword">n</span></span><br><span class="line">        <span class="keyword">m</span> = <span class="keyword">n</span></span><br><span class="line">        <span class="keyword">n</span> = <span class="literal">r</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"%d %d\n"</span>, <span class="keyword">m</span>, x/<span class="keyword">m</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_17：统计字符个数">程序 17：统计字符个数</h3><p>题目：输入一行字符，分别统计出其中英文字母、空格、数字和其它字符的个数。<br>1.程序分析：利用 while 语句, 条件为输入的字符不为’ \n’.<br>2.程序源代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"bufio"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">    <span class="keyword">var</span> i, j, k, l <span class="typename">int</span> = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    reader := bufio.NewReader(os.Stdin)</span><br><span class="line">    input, _ := reader.ReadString(<span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">for</span> _, <span class="typename">rune</span> := <span class="keyword">range</span> input &#123;</span><br><span class="line">        <span class="keyword">switch</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> (<span class="typename">rune</span> &gt;= <span class="string">'A'</span> &amp;&amp; <span class="typename">rune</span> &lt;= <span class="string">'Z'</span>):</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> (<span class="typename">rune</span> &gt;= <span class="string">'a'</span> &amp;&amp; <span class="typename">rune</span> &lt;= <span class="string">'z'</span>):</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> <span class="typename">rune</span> == <span class="string">' '</span> || <span class="typename">rune</span> == <span class="string">'\t'</span>:</span><br><span class="line">            j++</span><br><span class="line">        <span class="keyword">case</span> (<span class="typename">rune</span> &gt;= <span class="string">'0'</span> &amp;&amp; <span class="typename">rune</span> &lt;= <span class="string">'9'</span>):</span><br><span class="line">            k++</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            l++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"all in all:char=%d space=%d digit=%d others=%d\n"</span>, i, j, k, l)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_18：累加特殊数">程序 18：累加特殊数</h3><p>题目：求 s=a+aa+aaa+aaaa+aa…a 的值，其中 a 是一个数字。例如 2+22+222+2222+22222(此<br>时共有5个数相加)，几个数相加有键盘控制。<br>1.程序分析：关键是计算出每一项的值。<br>2.程序源代码：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a, n, <span class="built_in">count</span> int</span><br><span class="line">    <span class="keyword">var</span> sn, tn int</span><br><span class="line">    fmt.<span class="type">Printf</span>(<span class="string">"please input a and n "</span>)</span><br><span class="line">    fmt.<span class="type">Scanf</span>(<span class="string">"%d%d\n"</span>, &amp;a, &amp;n)</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">count</span> &lt; n &#123;</span><br><span class="line">        tn = tn + a</span><br><span class="line">        sn = sn + tn</span><br><span class="line">        a = a * <span class="number">10</span></span><br><span class="line">        <span class="built_in">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.<span class="type">Printf</span>(<span class="string">"a+aa+...=%d\n"</span>, sn)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_19：因子之和">程序 19：因子之和</h3><p>题目：一个数如果恰好等于它的因子之和，这个数就称为“完数”。例如 6=1＋2＋3.编程找出 1000 以内的所有完数。 </p>
<ol>
<li>程序分析：请参照程序&lt;–上页程序 14.<br>2.程序源代码：</li>
</ol>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">n</span> := 2; <span class="keyword">n</span> &lt; 1000; <span class="keyword">n</span>++ &#123;</span><br><span class="line">        <span class="keyword">m</span> := <span class="keyword">n</span></span><br><span class="line">        <span class="keyword">for</span> i := 1; i &lt; <span class="keyword">n</span>; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">n</span>%i == 0 &#123;</span><br><span class="line">                <span class="keyword">m</span> -= <span class="literal">i</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">m</span> == 0 &#123;</span><br><span class="line">            fmt.Println(<span class="keyword">n</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_20：自由落体">程序 20：自由落体</h3><p>题目：一球从100米高度自由落下，每次落地后反跳回原高度的一半；再落下，求它在第10次落地时，共经过多少米？第10次反弹多高？<br>1.程序分析：见下面注释<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    s := <span class="number">100.0</span></span><br><span class="line">    h := s / <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">        s += <span class="number">2</span> * h</span><br><span class="line">        h /= <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"the total of road is %f\n"</span>, s)</span><br><span class="line">    fmt.Printf(<span class="string">"the tenth is %f meter\n"</span>, h)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_21：猴子吃桃">程序 21：猴子吃桃</h3><p>题目：猴子吃桃问题：猴子第一天摘下若干个桃子，当即吃了一半，还不瘾，又多吃了一个。第二天早上又将剩下的桃子吃掉一半，又多吃了一个。以后每天早上都吃了前一天剩下的一半零一个。到第 10 天早上想再吃时，见只剩下一个桃子了。求第一天共摘了多少。<br>1.程序分析：采取逆向思维的方法，从后往前推断。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var x1, x2, day <span class="keyword">int</span> = <span class="number">0</span>, <span class="number">1</span>, <span class="number">9</span></span><br><span class="line">    <span class="keyword">for</span> day &gt; <span class="number">0</span> &#123;</span><br><span class="line">        x1 = (x2 + <span class="number">1</span>) * <span class="number">2</span></span><br><span class="line">        x2 = x1</span><br><span class="line">        day--</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"the total is %d\n"</span>, x1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_22：找出对手">程序 22：找出对手</h3><p>题目：两个乒乓球队进行比赛，各出三人。甲队为a,b,c三人，乙队为x,y,z三人。已抽签决定比赛名单。有人向队员打听比赛的名单。a说他不和x比，c说他不和x,z比，请编程序找出三队赛手的名单。<br>1.程序分析：判断素数的方法：用一个数分别去除2到sqrt(这个数)，如果能被整除，则表明此数不是素数，反之是素数。<br>2.程序源代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">    <span class="keyword">var</span> i, j, k <span class="typename">int16</span> <span class="comment">/*i 是 a 的对手，j 是 b 的对手，k 是 c 的对手*/</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="string">'x'</span>; i &lt;= <span class="string">'z'</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j = <span class="string">'x'</span>; j &lt;= <span class="string">'z'</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i != j &#123;</span><br><span class="line">                <span class="keyword">for</span> k = <span class="string">'x'</span>; k &lt;= <span class="string">'z'</span>; k++ &#123;</span><br><span class="line">                    <span class="keyword">if</span> i != k &amp;&amp; j != k &#123;</span><br><span class="line">                        <span class="keyword">if</span> i != <span class="string">'x'</span> &amp;&amp; k != <span class="string">'x'</span> &amp;&amp; k != <span class="string">'z'</span> &#123;</span><br><span class="line">                            fmt.Printf(<span class="string">"order is a--%c b--%c c--%c\n"</span>, i, j, k)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_23：打印菱形">程序 23：打印菱形</h3><p>题目：打印出如下图案（菱形）</p>
<p>   *</p>
<hr>
<hr>
<hr>
<hr>
<hr>
<p>   *<br>1.程序分析：先把图形分成两部分来看待，前四行一个规律，后三行一个规律，利用双重for循环，第一层控制行，第二层控制列。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var i, j, k <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">0</span>; j &lt;= <span class="number">2</span>-i; j++ &#123;</span><br><span class="line">            fmt.Printf(<span class="string">" "</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> k = <span class="number">0</span>; k &lt;= <span class="number">2</span>*i; k++ &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"*"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">"\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt;= <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">0</span>; j &lt;= i; j++ &#123;</span><br><span class="line">            fmt.Printf(<span class="string">" "</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> k = <span class="number">0</span>; k &lt;= <span class="number">4</span>-<span class="number">2</span>*i; k++ &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"*"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">"\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_24：分数序列">程序 24：分数序列</h3><p>题目：有一分数序列：2/1，3/2，5/3，8/5，13/8，21/13…求出这个数列的前 20 项之和。<br>1.程序分析：请抓住分子与分母的变化规律。<br>2.程序源代码：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    <span class="built_in">number</span> := <span class="number">20</span></span><br><span class="line">    <span class="operator">a</span>, b, s := <span class="number">2.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> n := <span class="number">1</span>; n &lt;= <span class="built_in">number</span>; n++ &#123;</span><br><span class="line">        s = s + <span class="operator">a</span>/b</span><br><span class="line">        <span class="operator">a</span>, b = <span class="operator">a</span>+b, <span class="operator">a</span> </span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"sum is %9.6f\n"</span>, s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_25：求阶层和">程序 25：求阶层和</h3><p>题目：求 1+2!+3!+…+20!的和<br>1.程序分析：此程序只是把累加变成了累乘。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    s, t := <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> n := <span class="number">1</span>; n &lt;= <span class="number">20</span>; n++ &#123;</span><br><span class="line">        t *= n</span><br><span class="line">        s += t</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"1+2!+3!...+20!=%d\n"</span>, s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_26：递归求阶层">程序 26：递归求阶层</h3><p>题目：利用递归方法求 5!。<br>1.程序分析：递归公式：fn=fn_1*4!<br>2.程序源代码：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">func main() &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"%d!=%d\n"</span>, 5, <span class="keyword">fact</span>(5))</span><br><span class="line">&#125;</span><br><span class="line">func <span class="keyword">fact</span>(<span class="keyword">n</span> int) (<span class="keyword">sum</span> int) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">n</span> == 0 &#123;</span><br><span class="line">        <span class="keyword">return</span> 1</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">sum</span> = <span class="keyword">n</span> * <span class="keyword">fact</span>(<span class="keyword">n</span>-1)</span><br><span class="line">    <span class="literal">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_27：反序输出字符">程序 27：反序输出字符</h3><p>题目：利用递归函数调用方式，将所输入的 5 个字符，以相反顺序打印出来。<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    putchar(<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">putchar</span><span class="params">(n int)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">c</span> byte</span><br><span class="line">    <span class="keyword">if</span> n &gt;= <span class="number">1</span> &#123;</span><br><span class="line">        fmt.<span class="type">Scanf</span>(<span class="string">"%c"</span>, &amp;<span class="built_in">c</span>)</span><br><span class="line">        putchar(n - <span class="number">1</span>)</span><br><span class="line">        fmt.<span class="type">Printf</span>(<span class="string">"%c"</span>, <span class="built_in">c</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_28：推出年龄">程序 28：推出年龄</h3><p>题目：有5个人坐在一起，问第五个人多少岁？他说比第4个人大2岁。问第4个人岁数，他说比第3个人大2岁。问第三个人，又说比第2人大两岁。问第2个人，说比第一个人大两岁。最后问第一个人，他说是10岁。请问第五个人多大？<br>1.程序分析：利用递归的方法，递归分为回推和递推两个阶段。要想知道第五个人岁数，需知道第四人的岁数，依次类推，推到第一人（10 岁），再往回推。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    fmt.Printf(<span class="string">"%d\n"</span>, clacAge(<span class="number">5</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">func <span class="title">clacAge</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="params">(age <span class="keyword">int</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span> &#123;</span><br><span class="line">        age = <span class="number">10</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        age = clacAge(n-<span class="number">1</span>) + <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_29：计算数字">程序 29：计算数字</h3><p>题目：给一个不多于5位的正整数，要求：一、求它是几位数，二、逆序打印出各位数字。<br>1.程序分析：学会分解出每一位数<br>2.程序源代码：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="function">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var x <span class="keyword">int</span></span><br><span class="line">    fmt.Printf(<span class="string">"请输入一个数字:"</span>)</span><br><span class="line">    fmt.Scanf(<span class="string">"%d\n"</span>, &amp;x)</span><br><span class="line">    <span class="keyword">for</span> i := 5; i &gt; <span class="number">0</span>; i-- &#123;</span><br><span class="line">        r := x / <span class="keyword">int</span>(math.Pow10(i-1))</span><br><span class="line">        <span class="keyword">if</span> r &gt; 0 &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"%d是一个%d位数字.\n"</span>, x, i)</span><br><span class="line">            out(i, x)</span><br><span class="line">            fmt.Printf(<span class="string">"\n"</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">func <span class="title">out</span><span class="params">(n, x <span class="keyword">int</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">1</span> &#123;</span><br><span class="line">        out(n-<span class="number">1</span>, x)</span><br><span class="line">    &#125;</span><br><span class="line">    r := x % <span class="keyword">int</span>(math.Pow10(n)) / <span class="keyword">int</span>(math.Pow10(n-1))</span><br><span class="line">    fmt.Printf(<span class="string">"%d"</span>, r)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_30：找出回文数">程序 30：找出回文数</h3><p>题目：一个5位数，判断它是不是回文数。即12321是回文数，个位与万位相同，十位与千位相同。<br>1.程序分析：同 29 例<br>2.程序源代码：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="function">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var x, i <span class="keyword">int</span></span><br><span class="line">    var max <span class="keyword">int</span> = <span class="number">5</span></span><br><span class="line">    fmt.Printf(<span class="string">"请输入一个数字:"</span>)</span><br><span class="line">    fmt.Scanf(<span class="string">"%d\n"</span>, &amp;x)</span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; max/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        h := x % <span class="keyword">int</span>(math.Pow10(max-i)) / <span class="keyword">int</span>(math.Pow10(max-i-1))</span><br><span class="line">        l := x % <span class="keyword">int</span>(math.Pow10(i+1)) / <span class="keyword">int</span>(math.Pow10(i))</span><br><span class="line">        <span class="keyword">if</span> h != l &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"%d不是一个回文数.\n"</span>, x)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> i == max/<span class="number">2</span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"%d是一个回文数.\n"</span>, x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_31：检索字符串">程序 31：检索字符串</h3><p>题目：请输入星期几的第一个字母来判断一下是星期几，如果第一个字母一样，则继续判断第二个字母。<br>1.程序分析：用情况语句比较好，如果第一个字母一样，则判断用情况语句或 if 语句判断第<br>二个字母。<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strings"</span></span><br><span class="line">)</span></span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    inweek := []string&#123;<span class="string">"Monday"</span>, <span class="string">"Tuesday"</span>, <span class="string">"Wednesday"</span>, <span class="string">"Thurday"</span>, <span class="string">"Friday"</span>, <span class="string">"Saturday"</span>, <span class="string">"Sunday"</span>&#125;</span><br><span class="line">    instr := <span class="string">""</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"input a char:"</span>)</span></span><br><span class="line">    fmt.Scanf<span class="params">(<span class="string">"%s\n"</span>, &amp;instr)</span></span><br><span class="line">    outweek<span class="params">(instr, inweek)</span></span><br><span class="line">&#125;</span><br><span class="line">func outweek<span class="params">(instr string, inweek []string)</span> &#123;</span><br><span class="line">    nextstr := <span class="string">""</span></span><br><span class="line">    nextweek := make<span class="params">([]string, <span class="number">0</span>)</span></span><br><span class="line">    <span class="keyword">for</span> _, value := range inweek &#123;</span><br><span class="line">        index := strings.Index<span class="params">(value, instr)</span></span><br><span class="line">        <span class="keyword">if</span> index == <span class="number">0</span> &#123;</span><br><span class="line">            nextweek = append<span class="params">(nextweek, value)</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"%s\n"</span>, nextweek[<span class="number">0</span>:])</span></span><br><span class="line">    <span class="keyword">if</span> len<span class="params">(nextweek)</span> &gt; <span class="number">1</span> &#123;</span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"input next char:"</span>)</span></span><br><span class="line">        fmt.Scanf<span class="params">(<span class="string">"%s\n"</span>, &amp;nextstr)</span></span><br><span class="line">        nextstr = instr + nextstr</span><br><span class="line">        outweek<span class="params">(nextstr, nextweek)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_32：改变控制台颜色">程序 32：改变控制台颜色</h3><p>题目：Press any key to change color, do you want to try it. Please hurry up!<br>1.程序分析： 使用Win API GetStdHandle和SetConsoleTextAttribute<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"syscall"</span></span><br><span class="line">)</span></span><br><span class="line">type <span class="params">(</span><br><span class="line">    HANDLE uintptr</span><br><span class="line">    WORD   uint16</span><br><span class="line">    DWORD  uint32</span><br><span class="line">)</span></span><br><span class="line">const <span class="params">(</span><br><span class="line">    STD_OUTPUT_HANDLE    = <span class="number">0</span>xFFFFFFF5</span><br><span class="line">    FOREGROUND_BLUE      = <span class="number">0</span>x01</span><br><span class="line">    FOREGROUND_GREEN     = <span class="number">0</span>x02</span><br><span class="line">    FOREGROUND_RED       = <span class="number">0</span>x04</span><br><span class="line">    FOREGROUND_INTENSITY = <span class="number">0</span>x08</span><br><span class="line">    BACKGROUND_BLUE      = <span class="number">0</span>x10</span><br><span class="line">    BACKGROUND_GREEN     = <span class="number">0</span>x20</span><br><span class="line">    BACKGROUND_RED       = <span class="number">0</span>x40</span><br><span class="line">    BACKGROUND_INTENSITY = <span class="number">0</span>x80</span><br><span class="line">)</span></span><br><span class="line">var <span class="params">(</span><br><span class="line">    modkernel32                 = syscall.NewLazyDLL<span class="params">(<span class="string">"kernel32.dll"</span>)</span></span><br><span class="line">    procGetStdHandle            = modkernel32.NewProc<span class="params">(<span class="string">"GetStdHandle"</span>)</span></span><br><span class="line">    procSetConsoleTextAttribute = modkernel32.NewProc<span class="params">(<span class="string">"SetConsoleTextAttribute"</span>)</span></span><br><span class="line">)</span></span><br><span class="line">func GetStdHandle<span class="params">(nStdHandle DWORD)</span> HANDLE &#123;</span><br><span class="line">    ret, _, _ := procGetStdHandle.Call<span class="params">(uintptr<span class="params">(nStdHandle)</span>)</span></span><br><span class="line">    return HANDLE<span class="params">(ret)</span></span><br><span class="line">&#125;</span><br><span class="line">func SetConsoleTextAttribute<span class="params">(hConsoleOutput HANDLE, wAttributes WORD)</span> bool &#123;</span><br><span class="line">    ret, _, _ := procSetConsoleTextAttribute.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(wAttributes)</span>)</span></span><br><span class="line">    return ret <span class="built_in">!</span>= <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">color</span> := <span class="number">0</span>; <span class="built_in">color</span> &lt; <span class="number">8</span>; <span class="built_in">color</span>++ &#123;</span><br><span class="line">        textbackground<span class="params">(color)</span></span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"This is color %d\n"</span>, color)</span></span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"Press any key to continue\n"</span>)</span></span><br><span class="line">        fmt.Scanln<span class="params">()</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">func textbackground<span class="params">(color int)</span> &#123;</span><br><span class="line">    hOut := GetStdHandle<span class="params">(STD_OUTPUT_HANDLE)</span></span><br><span class="line">    SetConsoleTextAttribute<span class="params">(hOut, WORD<span class="params">(color)</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_33：gotoxy()与_clrscr()函数">程序 33：gotoxy()与 clrscr()函数</h3><p>题目：学习 gotoxy()与 clrscr()函数<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"syscall"</span></span><br><span class="line">    <span class="string">"unsafe"</span></span><br><span class="line">)</span></span><br><span class="line">type <span class="params">(</span><br><span class="line">    HANDLE uintptr</span><br><span class="line">    WORD   uint16</span><br><span class="line">    DWORD  uint32</span><br><span class="line">    TCHAR  rune</span><br><span class="line">)</span></span><br><span class="line">const <span class="params">(</span><br><span class="line">    STD_OUTPUT_HANDLE    = <span class="number">0</span>xFFFFFFF5</span><br><span class="line">    FOREGROUND_BLUE      = <span class="number">0</span>x01</span><br><span class="line">    FOREGROUND_GREEN     = <span class="number">0</span>x02</span><br><span class="line">    FOREGROUND_RED       = <span class="number">0</span>x04</span><br><span class="line">    FOREGROUND_INTENSITY = <span class="number">0</span>x08</span><br><span class="line">    BACKGROUND_BLUE      = <span class="number">0</span>x10</span><br><span class="line">    BACKGROUND_GREEN     = <span class="number">0</span>x20</span><br><span class="line">    BACKGROUND_RED       = <span class="number">0</span>x40</span><br><span class="line">    BACKGROUND_INTENSITY = <span class="number">0</span>x80</span><br><span class="line">)</span></span><br><span class="line">type COORD struct &#123;</span><br><span class="line">    X, Y int16</span><br><span class="line">&#125;</span><br><span class="line">type SMALL_RECT struct &#123;</span><br><span class="line">    Left, Top, Right, Bottom int16</span><br><span class="line">&#125;</span><br><span class="line">type CONSOLE_SCREEN_BUFFER_INFO struct &#123;</span><br><span class="line">    DwSize              COORD</span><br><span class="line">    DwCursorPosition    COORD</span><br><span class="line">    WAttributes         WORD</span><br><span class="line">    SrWindow            SMALL_RECT</span><br><span class="line">    DwMaximumWindowSize COORD</span><br><span class="line">&#125;</span><br><span class="line">var <span class="params">(</span><br><span class="line">    modkernel32                    = syscall.NewLazyDLL<span class="params">(<span class="string">"kernel32.dll"</span>)</span></span><br><span class="line">    procFillConsoleOutputAttribute = modkernel32.NewProc<span class="params">(<span class="string">"FillConsoleOutputAttribute"</span>)</span></span><br><span class="line">    procFillConsoleOutputCharacter = modkernel32.NewProc<span class="params">(<span class="string">"FillConsoleOutputCharacterW"</span>)</span></span><br><span class="line">    procGetStdHandle               = modkernel32.NewProc<span class="params">(<span class="string">"GetStdHandle"</span>)</span></span><br><span class="line">    procGetConsoleScreenBufferInfo = modkernel32.NewProc<span class="params">(<span class="string">"GetConsoleScreenBufferInfo"</span>)</span></span><br><span class="line">    procSetConsoleCursorPosition   = modkernel32.NewProc<span class="params">(<span class="string">"SetConsoleCursorPosition"</span>)</span></span><br><span class="line">    procSetConsoleTextAttribute    = modkernel32.NewProc<span class="params">(<span class="string">"SetConsoleTextAttribute"</span>)</span></span><br><span class="line">)</span></span><br><span class="line">func COORD2DWORD<span class="params">(c COORD)</span> DWORD &#123;</span><br><span class="line">    return DWORD<span class="params">(int32<span class="params">(c.Y)</span>&lt;&lt;<span class="number">16</span> + int32<span class="params">(c.X)</span>)</span></span><br><span class="line">&#125;</span><br><span class="line">func FillConsoleOutputAttribute<span class="params">(hConsoleOutput HANDLE, wAttribute WORD, nLength DWORD, dwWriteCoord COORD)</span> <span class="built_in">*</span>DWORD &#123;</span><br><span class="line">    var lpNumberOfAttrsWritten DWORD</span><br><span class="line">    ret, _, _ := procFillConsoleOutputAttribute.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(wAttribute)</span>,</span><br><span class="line">        uintptr<span class="params">(nLength)</span>,</span><br><span class="line">        uintptr<span class="params">(COORD2DWORD<span class="params">(dwWriteCoord)</span>)</span>,</span><br><span class="line">        uintptr<span class="params">(unsafe.Pointer<span class="params">(&amp;lpNumberOfAttrsWritten)</span>)</span>)</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="number">0</span> &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    return &amp;lpNumberOfAttrsWritten</span><br><span class="line">&#125;</span><br><span class="line">func FillConsoleOutputCharacter<span class="params">(hConsoleOutput HANDLE, cCharacter TCHAR, nLength DWORD, dwWriteCoord COORD)</span> <span class="built_in">*</span>DWORD &#123;</span><br><span class="line">    var lpNumberOfAttrsWritten DWORD</span><br><span class="line">    ret, _, _ := procFillConsoleOutputCharacter.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(cCharacter)</span>,</span><br><span class="line">        uintptr<span class="params">(nLength)</span>,</span><br><span class="line">        uintptr<span class="params">(COORD2DWORD<span class="params">(dwWriteCoord)</span>)</span>,</span><br><span class="line">        uintptr<span class="params">(unsafe.Pointer<span class="params">(&amp;lpNumberOfAttrsWritten)</span>)</span>)</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="number">0</span> &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    return &amp;lpNumberOfAttrsWritten</span><br><span class="line">&#125;</span><br><span class="line">func GetStdHandle<span class="params">(nStdHandle DWORD)</span> HANDLE &#123;</span><br><span class="line">    ret, _, _ := procGetStdHandle.Call<span class="params">(uintptr<span class="params">(nStdHandle)</span>)</span></span><br><span class="line">    return HANDLE<span class="params">(ret)</span></span><br><span class="line">&#125;</span><br><span class="line">func GetConsoleScreenBufferInfo<span class="params">(hConsoleOutput HANDLE)</span> <span class="built_in">*</span>CONSOLE_SCREEN_BUFFER_INFO &#123;</span><br><span class="line">    var csbi CONSOLE_SCREEN_BUFFER_INFO</span><br><span class="line">    ret, _, _ := procGetConsoleScreenBufferInfo.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(unsafe.Pointer<span class="params">(&amp;csbi)</span>)</span>)</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="number">0</span> &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    return &amp;csbi</span><br><span class="line">&#125;</span><br><span class="line">func SetConsoleCursorPosition<span class="params">(hConsoleOutput HANDLE, dwCursorPosition COORD)</span> bool &#123;</span><br><span class="line">    ret, _, _ := procSetConsoleCursorPosition.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(COORD2DWORD<span class="params">(dwCursorPosition)</span>)</span>)</span></span><br><span class="line">    return ret <span class="built_in">!</span>= <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">func SetConsoleTextAttribute<span class="params">(hConsoleOutput HANDLE, wAttributes WORD)</span> bool &#123;</span><br><span class="line">    ret, _, _ := procSetConsoleTextAttribute.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(wAttributes)</span>)</span></span><br><span class="line">    return ret <span class="built_in">!</span>= <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">func clrscr<span class="params">()</span> &#123;</span><br><span class="line">    hConsole := GetStdHandle<span class="params">(STD_OUTPUT_HANDLE)</span></span><br><span class="line">    coordScreen := COORD&#123;<span class="number">0</span>, <span class="number">0</span>&#125;</span><br><span class="line">    var dwConSize DWORD</span><br><span class="line">    var csbi <span class="built_in">*</span>CONSOLE_SCREEN_BUFFER_INFO</span><br><span class="line">    csbi = GetConsoleScreenBufferInfo<span class="params">(hConsole)</span></span><br><span class="line">    dwConSize = DWORD<span class="params">(csbi.DwSize.X * csbi.DwSize.Y)</span></span><br><span class="line">    FillConsoleOutputCharacter<span class="params">(hConsole, TCHAR<span class="params">(' ')</span>, dwConSize, coordScreen)</span></span><br><span class="line">    csbi = GetConsoleScreenBufferInfo<span class="params">(hConsole)</span></span><br><span class="line">    FillConsoleOutputAttribute<span class="params">(hConsole, csbi.WAttributes, dwConSize, coordScreen)</span></span><br><span class="line">    SetConsoleCursorPosition<span class="params">(hConsole, coordScreen)</span></span><br><span class="line">&#125;</span><br><span class="line">func gotoxy<span class="params">(x, y int16)</span> &#123;</span><br><span class="line">    loc := COORD&#123;x, y&#125;</span><br><span class="line">    hConsole := GetStdHandle<span class="params">(STD_OUTPUT_HANDLE)</span></span><br><span class="line">    SetConsoleCursorPosition<span class="params">(hConsole, loc)</span></span><br><span class="line">&#125;</span><br><span class="line">func textbackground<span class="params">(color int)</span> &#123;</span><br><span class="line">    hOut := GetStdHandle<span class="params">(STD_OUTPUT_HANDLE)</span></span><br><span class="line">    SetConsoleTextAttribute<span class="params">(hOut, WORD<span class="params">(color)</span>)</span></span><br><span class="line">&#125;</span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    clrscr<span class="params">()</span> <span class="comment">/*清屏函数*/</span></span><br><span class="line">    textbackground<span class="params">(<span class="number">2</span>)</span></span><br><span class="line">    gotoxy<span class="params">(<span class="number">1</span>, <span class="number">5</span>)</span> <span class="comment">/*定位函数*/</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"Output at row 5 column 1\n"</span>)</span></span><br><span class="line">    textbackground<span class="params">(<span class="number">3</span>)</span></span><br><span class="line">    gotoxy<span class="params">(<span class="number">20</span>, <span class="number">10</span>)</span></span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"Output at row 10 column 20\n"</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_34：函数调用">程序 34：函数调用</h3><p>题目：练习函数调用 </p>
<ol>
<li>程序分析：<br>2.程序源代码：</li>
</ol>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line">import (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span> &#123;</span></span><br><span class="line">    noresult()</span><br><span class="line">    ret := oneresult()</span><br><span class="line">    fmt.Println(<span class="string">"存在1个返回值的函数"</span>, ret)</span><br><span class="line">    _, b := tworesult()</span><br><span class="line">    fmt.Println(<span class="string">"存在2个返回值的函数"</span>, b)</span><br><span class="line">    _, _, _ = threeresult()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">noresult</span><span class="params">()</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"没有返回值的函数"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">oneresult</span><span class="params">()</span> <span class="title">int</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"存在1个返回值的函数"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tworesult</span><span class="params">()</span> <span class="params">(int, bool)</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"存在2个返回值的函数"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>, <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">threeresult</span><span class="params">()</span> <span class="params">(int, bool, string)</span> &#123;</span></span><br><span class="line">    fmt.Println(<span class="string">"存在3个返回值的函数"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>, <span class="literal">false</span>, <span class="string">"错误"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_35：文本颜色设置">程序 35：文本颜色设置</h3><p>题目：文本颜色设置<br>1.程序分析：使用Win API GetStdHandle和SetConsoleTextAttribute<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"syscall"</span></span><br><span class="line">)</span></span><br><span class="line">type <span class="params">(</span><br><span class="line">    HANDLE uintptr</span><br><span class="line">    WORD   uint16</span><br><span class="line">    DWORD  uint32</span><br><span class="line">)</span></span><br><span class="line">const <span class="params">(</span><br><span class="line">    STD_OUTPUT_HANDLE    = <span class="number">0</span>xFFFFFFF5</span><br><span class="line">    FOREGROUND_BLUE      = <span class="number">0</span>x01</span><br><span class="line">    FOREGROUND_GREEN     = <span class="number">0</span>x02</span><br><span class="line">    FOREGROUND_RED       = <span class="number">0</span>x04</span><br><span class="line">    FOREGROUND_INTENSITY = <span class="number">0</span>x08</span><br><span class="line">    BACKGROUND_BLUE      = <span class="number">0</span>x10</span><br><span class="line">    BACKGROUND_GREEN     = <span class="number">0</span>x20</span><br><span class="line">    BACKGROUND_RED       = <span class="number">0</span>x40</span><br><span class="line">    BACKGROUND_INTENSITY = <span class="number">0</span>x80</span><br><span class="line">)</span></span><br><span class="line">var <span class="params">(</span><br><span class="line">    modkernel32                 = syscall.NewLazyDLL<span class="params">(<span class="string">"kernel32.dll"</span>)</span></span><br><span class="line">    procGetStdHandle            = modkernel32.NewProc<span class="params">(<span class="string">"GetStdHandle"</span>)</span></span><br><span class="line">    procSetConsoleTextAttribute = modkernel32.NewProc<span class="params">(<span class="string">"SetConsoleTextAttribute"</span>)</span></span><br><span class="line">)</span></span><br><span class="line">func GetStdHandle<span class="params">(nStdHandle DWORD)</span> HANDLE &#123;</span><br><span class="line">    ret, _, _ := procGetStdHandle.Call<span class="params">(uintptr<span class="params">(nStdHandle)</span>)</span></span><br><span class="line">    return HANDLE<span class="params">(ret)</span></span><br><span class="line">&#125;</span><br><span class="line">func SetConsoleTextAttribute<span class="params">(hConsoleOutput HANDLE, wAttributes WORD)</span> bool &#123;</span><br><span class="line">    ret, _, _ := procSetConsoleTextAttribute.Call<span class="params">(</span><br><span class="line">        uintptr<span class="params">(hConsoleOutput)</span>,</span><br><span class="line">        uintptr<span class="params">(wAttributes)</span>)</span></span><br><span class="line">    return ret <span class="built_in">!</span>= <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">color</span> := <span class="number">1</span>; <span class="built_in">color</span> &lt; <span class="number">16</span>; <span class="built_in">color</span>++ &#123;</span><br><span class="line">        textcolor<span class="params">(color)</span> <span class="comment">/*设置文本颜色*/</span></span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"This is color %d\n"</span>, color)</span></span><br><span class="line">        textcolor<span class="params">(<span class="number">128</span> + color)</span></span><br><span class="line">        fmt.Printf<span class="params">(<span class="string">"This is blinking\n"</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">func textcolor<span class="params">(color int)</span> &#123;</span><br><span class="line">    hOut := GetStdHandle<span class="params">(STD_OUTPUT_HANDLE)</span></span><br><span class="line">    SetConsoleTextAttribute<span class="params">(hOut, WORD<span class="params">(color)</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_36：求素数">程序 36：求素数</h3><p>题目：求 100 之内的素数<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">3</span>; i &lt; <span class="number">100</span>; i++ &#123;</span><br><span class="line">        var j = <span class="number">2</span></span><br><span class="line">        <span class="keyword">for</span> j = <span class="number">2</span>; j &lt; i; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i%j == <span class="number">0</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> i == j &#123;</span><br><span class="line">            fmt.Print(i, <span class="string">" "</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_37：求最大数">程序 37：求最大数</h3><p>题目：对 10 个数进行排序<br>1.程序分析：可以利用选择法，即从后9个比较过程中，选择一个最小的与第一个元素交换，下次类推，即用第二个元素与后 8 个进行比较，并进行交换。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var <span class="built_in">array</span> [<span class="number">10</span>]<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"array[%d]="</span>, i)</span><br><span class="line">        fmt.Scanf(<span class="string">"%d\n"</span>, &amp;<span class="built_in">array</span>[i])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println()</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">9</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i + <span class="number">1</span>; j &lt; <span class="number">9</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">array</span>[j] &gt; <span class="built_in">array</span>[j+<span class="number">1</span>] &#123;</span><br><span class="line">                <span class="built_in">array</span>[j], <span class="built_in">array</span>[j+<span class="number">1</span>] = <span class="built_in">array</span>[j+<span class="number">1</span>], <span class="built_in">array</span>[j]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">array</span>[i] &gt; <span class="built_in">array</span>[i+<span class="number">1</span>] &#123;</span><br><span class="line">            <span class="built_in">array</span>[i], <span class="built_in">array</span>[i+<span class="number">1</span>] = <span class="built_in">array</span>[i+<span class="number">1</span>], <span class="built_in">array</span>[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="built_in">array</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_38：对角线之和">程序 38：对角线之和</h3><p>题目：求一个 3*3 矩阵对角线元素之和<br>1.程序分析：利用双重for循环控制输入二维数组，再将a[i][i]累加后输出。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> max <span class="keyword">int</span> = <span class="number">3</span></span><br><span class="line">    var <span class="built_in">array</span> [max][max]<span class="keyword">int</span></span><br><span class="line">    var sum <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; max; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; max; j++ &#123;</span><br><span class="line">            fmt.Printf(<span class="string">"array[%d][%d]="</span>, i, j)</span><br><span class="line">            fmt.Scanf(<span class="string">"%d\n"</span>, &amp;<span class="built_in">array</span>[i][j])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; max; i++ &#123;</span><br><span class="line">        sum += <span class="built_in">array</span>[i][i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; max; i++ &#123;</span><br><span class="line">        sum += <span class="built_in">array</span>[i][max-i-<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> max%<span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">        sum -= <span class="built_in">array</span>[max/<span class="number">2</span>][max/<span class="number">2</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_39：插入元素">程序 39：插入元素</h3><p>题目：有一个已经排好序的数组。现输入一个数，要求按原来的规律将它插入数组中。 </p>
<ol>
<li>程序分析：首先判断此数是否大于最后一个数，然后再考虑插入中间的数的情况，插入后此元素之后的数，依次后移一个位置。<br>2.程序源代码：</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var number <span class="keyword">int</span></span><br><span class="line">    var <span class="built_in">array</span> = [<span class="number">11</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">13</span>, <span class="number">16</span>, <span class="number">19</span>, <span class="number">28</span>, <span class="number">40</span>, <span class="number">100</span>&#125;</span><br><span class="line">    fmt.Printf(<span class="string">"insert a new number:"</span>)</span><br><span class="line">    fmt.Scanf(<span class="string">"%d"</span>, &amp;number)</span><br><span class="line">    <span class="built_in">array</span>[<span class="number">10</span>] = number</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">10</span>; i &gt; <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">array</span>[i] &lt; <span class="built_in">array</span>[i-<span class="number">1</span>] &#123;</span><br><span class="line">            <span class="built_in">array</span>[i], <span class="built_in">array</span>[i-<span class="number">1</span>] = <span class="built_in">array</span>[i-<span class="number">1</span>], <span class="built_in">array</span>[i]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="built_in">array</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_40：数组逆序输出">程序 40：数组逆序输出</h3><p>题目：将一个数组逆序输出。<br>1.程序分析：用第一个与最后一个交换。<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">package main</span><br><span class="line"><span class="title">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    var <span class="built_in">array</span> = [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">13</span>, <span class="number">16</span>, <span class="number">19</span>, <span class="number">28</span>, <span class="number">40</span>, <span class="number">100</span>&#125;</span><br><span class="line">    count := len(<span class="built_in">array</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &gt; count/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="built_in">array</span>[i], <span class="built_in">array</span>[count-i-<span class="number">1</span>] = <span class="built_in">array</span>[count-i-<span class="number">1</span>], <span class="built_in">array</span>[i]</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="built_in">array</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_41：位运算">程序 41：位运算</h3><p>题目：取一个整数 a 从右端开始的 4～7 位。<br>程序分析：可以这样考虑：<br>(1)先使 a 右移 4 位。<br>(2)设置一个低 4 位全为 1,其余全为 0 的数。可用~(~0&lt;&lt;4)<br>(3)将上面二者进行&amp;运算。<br>2.程序源代码：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"><span class="built_in">import</span> <span class="params">(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span></span><br><span class="line">func main<span class="params">()</span> &#123;</span><br><span class="line">    var a int</span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"input a number:"</span>)</span></span><br><span class="line">    fmt.Scanf<span class="params">(<span class="string">"%d\n"</span>, &amp;a)</span></span><br><span class="line">    b := a &gt;&gt; <span class="number">4</span></span><br><span class="line">    c := ^<span class="params">(^<span class="number">0</span> &lt;&lt; <span class="number">4</span>)</span></span><br><span class="line">    d := b &amp; c</span><br><span class="line">    fmt.Printf<span class="params">(<span class="string">"%o\n%o\n"</span>, a, d)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_42：">程序 42：</h3><p>题目：画图，学用 circle 画圆形。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/circle/ </span><br><span class="line"><span class="string">"graphics.h"</span> </span><br><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> driver,mode,i; </span><br><span class="line"><span class="keyword">float</span> j=<span class="number">1</span>,k=<span class="number">1</span>; </span><br><span class="line">driver=VGA;mode=VGAHI; </span><br><span class="line">initgraph(&amp;driver,&amp;mode,<span class="string">""</span>); </span><br><span class="line">setbkcolor(YELLOW); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">25</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line">setcolor(<span class="number">8</span>); </span><br><span class="line">circle(<span class="number">310</span>,<span class="number">250</span>,k); </span><br><span class="line">k=k+j; </span><br><span class="line">j=j+<span class="number">0.3</span>; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_43：">程序 43：</h3><p>题目：画图，学用 line 画直线。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"graphics.h"</span> </span><br><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> driver,mode,i; </span><br><span class="line"><span class="keyword">float</span> x0,y0,y1,x1; </span><br><span class="line"><span class="keyword">float</span> j=<span class="number">12</span>,k; </span><br><span class="line">driver=VGA;mode=VGAHI; </span><br><span class="line">initgraph(&amp;driver,&amp;mode,<span class="string">""</span>); </span><br><span class="line">setbkcolor(GREEN); </span><br><span class="line">x0=<span class="number">263</span>;y0=<span class="number">263</span>;y1=<span class="number">275</span>;x1=<span class="number">275</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">18</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line">setcolor(<span class="number">5</span>); </span><br><span class="line">line(x0,y0,x0,y1); </span><br><span class="line">x0=x0-<span class="number">5</span>; </span><br><span class="line">y0=y0-<span class="number">5</span>; </span><br><span class="line">x1=x1+<span class="number">5</span>; </span><br><span class="line">y1=y1+<span class="number">5</span>; </span><br><span class="line">j=j+<span class="number">10</span>; </span><br><span class="line">&#125; </span><br><span class="line">x0=<span class="number">263</span>;y1=<span class="number">275</span>;y0=<span class="number">263</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">20</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line">setcolor(<span class="number">5</span>); </span><br><span class="line">line(x0,y0,x0,y1); </span><br><span class="line">x0=x0+<span class="number">5</span>; </span><br><span class="line">y0=y0+<span class="number">5</span>; </span><br><span class="line">y1=y1-<span class="number">5</span>; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_44：">程序 44：</h3><p>题目：画图，学用 rectangle 画方形。<br>1.程序分析：利用 for 循环控制 100-999 个数，每个数分解出个位，十位，百位。<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"graphics.h"</span> </span><br><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> x0,y0,y1,x1,driver,mode,i; </span><br><span class="line">driver=VGA;mode=VGAHI; </span><br><span class="line">initgraph(&amp;driver,&amp;mode,<span class="string">""</span>); </span><br><span class="line">setbkcolor(YELLOW); </span><br><span class="line">x0=<span class="number">263</span>;y0=<span class="number">263</span>;y1=<span class="number">275</span>;x1=<span class="number">275</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">18</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line">setcolor(<span class="number">1</span>); </span><br><span class="line">rectangle(x0,y0,x1,y1); </span><br><span class="line">x0=x0-<span class="number">5</span>; </span><br><span class="line">y0=y0-<span class="number">5</span>; </span><br><span class="line">x1=x1+<span class="number">5</span>; </span><br><span class="line">y1=y1+<span class="number">5</span>; </span><br><span class="line">&#125; </span><br><span class="line">settextstyle(DEFAULT_FONT,HORIZ_DIR,<span class="number">2</span>); </span><br><span class="line">outtextxy(<span class="number">150</span>,<span class="number">40</span>,<span class="string">"How beautiful it is!"</span>); </span><br><span class="line">line(<span class="number">130</span>,<span class="number">60</span>,<span class="number">480</span>,<span class="number">60</span>); </span><br><span class="line">setcolor(<span class="number">2</span>); </span><br><span class="line">circle(<span class="number">269</span>,<span class="number">269</span>,<span class="number">137</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_45：">程序 45：</h3><p>题目：打印出杨辉三角形（要求打印出 10 行如下图）<br>1.程序分析：<br>1<br>1 1<br>1 2 1<br>1 3 3 1<br>1 4 6 4 1<br>1 5 10 10 5 1<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> i,j; </span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>][<span class="number">10</span>]; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) </span><br><span class="line">&#123;a[i][<span class="number">0</span>]=<span class="number">1</span>; </span><br><span class="line">a[i][i]=<span class="number">1</span>;&#125; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;<span class="number">10</span>;i++) </span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j a[i][j]=a[i -<span class="number">1</span>][j -<span class="number">1</span>]+a[i -<span class="number">1</span>][j]; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) </span><br><span class="line">&#123;<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=i;j++) </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"]"</span>,a[i][j]); </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>); </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_46：">程序 46：</h3><p>题目：学习 putpixel 画点。<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"graphics.h"</span> </span><br><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">int</span> i,j,driver=VGA,mode= VGAHI; </span><br><span class="line">initgraph(&amp;driver,&amp;mode,<span class="string">""</span>); </span><br><span class="line">setbkcolor(YELLOW); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">50</span>;i&lt;=<span class="number">230</span>;i+=<span class="number">20</span>) </span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">50</span>;j&lt;=<span class="number">230</span>;j++) </span><br><span class="line">putpixel(i,j,<span class="number">1</span>); </span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">50</span>;j&lt;=<span class="number">230</span>;j+=<span class="number">20</span>) </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">50</span>;i&lt;=<span class="number">230</span>;i++) </span><br><span class="line">putpixel(i,j,<span class="number">1</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_47：">程序 47：</h3><p>题目：画椭圆 ellipse<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"graphics.h"</span> </span><br><span class="line"><span class="string">"conio.h"</span> </span><br><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">int</span> x=<span class="number">360</span>,y=<span class="number">160</span>,driver=VGA,mode=VGAHI; </span><br><span class="line"><span class="keyword">int</span> num=<span class="number">20</span>,i; </span><br><span class="line"><span class="keyword">int</span> top,bottom; </span><br><span class="line">initgraph(&amp;driver,&amp;mode,<span class="string">""</span>); </span><br><span class="line">top=y-<span class="number">30</span>; </span><br><span class="line">bottom=y-<span class="number">30</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&#123; </span><br><span class="line">ellipse(<span class="number">250</span>,<span class="number">250</span>,<span class="number">0</span>,<span class="number">360</span>,top,bottom); </span><br><span class="line">top-=<span class="number">5</span>; </span><br><span class="line">bottom+=<span class="number">5</span>; </span><br><span class="line">&#125; </span><br><span class="line">getch(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_68：">程序 68：</h3><p>题目：有 n 个整数，使其前面各数顺序向后移 m 个位置，最后 m 个数变成最前面的 m 个数<br>1.程序分析： </p>
<ol>
<li>程序源代码： </li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">int</span> number[<span class="number">20</span>],n,m,i; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"the total numbers is:"</span>); </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n); </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"back m:"</span>); </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;<span class="function">i <span class="title">scanf</span><span class="params">(<span class="string">"%d,"</span>,&amp;number[i])</span></span>; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;number[n-<span class="number">1</span>]); </span><br><span class="line">move(number,n,m); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;<span class="function">i <span class="title">printf</span><span class="params">(<span class="string">"%d,"</span>,number[i])</span></span>; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,number[n-<span class="number">1</span>]); </span><br><span class="line">&#125; </span><br><span class="line">move(<span class="built_in">array</span>,n,m) </span><br><span class="line"><span class="keyword">int</span> n,m,<span class="built_in">array</span>[<span class="number">20</span>]; </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">int</span> p,array_end; </span><br><span class="line">array_end=(<span class="built_in">array</span>+n-<span class="number">1</span>); </span><br><span class="line"><span class="keyword">for</span>(p=<span class="built_in">array</span>+n-<span class="number">1</span>;p&gt;<span class="built_in">array</span>;p --) </span><br><span class="line">p=(p-<span class="number">1</span>); </span><br><span class="line">*<span class="built_in">array</span>=array_end; </span><br><span class="line">m--; </span><br><span class="line"><span class="keyword">if</span>(m&gt;<span class="number">0</span>) move(<span class="built_in">array</span>,n,m); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_69：">程序 69：</h3><p>题目：有 n 个人围成一圈，顺序排号。从第一个人开始报数（从 1 到 3 报数），凡报到 3 的<br>人退出<br>圈子，问最后留下的是原来第几号的那位。 </p>
<ol>
<li>程序分析：<br>2.程序源代码： </li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">define nmax <span class="number">50</span> </span><br><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">int</span> i,k,m,n,num[nmax],*p; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"please input the total of numbers:"</span>); </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n); </span><br><span class="line">p=num; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i (p+i)=i+<span class="number">1</span>; </span><br><span class="line">i =<span class="number">0</span>; </span><br><span class="line">k=<span class="number">0</span>; </span><br><span class="line">m=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">while</span>(m &#123; </span><br><span class="line"><span class="keyword">if</span>((p+i)!=<span class="number">0</span>) k++; </span><br><span class="line"><span class="keyword">if</span>(k==<span class="number">3</span>) </span><br><span class="line">&#123; *(p+i)=<span class="number">0</span>; </span><br><span class="line">k=<span class="number">0</span>; </span><br><span class="line">m++; </span><br><span class="line">&#125; </span><br><span class="line">i++; </span><br><span class="line"><span class="keyword">if</span>(i==n) i=<span class="number">0</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">while</span>(*p==<span class="number">0</span>) p++; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d is left\n"</span>,*p); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_72：">程序 72：</h3><p>题目：创建一个链表。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/creat a <span class="built_in">list</span>/ </span><br><span class="line"><span class="string">"stdlib.h"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> </span><br><span class="line">&#123; <span class="keyword">int</span> data; </span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> *next; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">list</span> node; </span><br><span class="line"><span class="keyword">typedef</span> node *link; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span><br><span class="line"></span>&#123; link ptr,head; </span><br><span class="line"><span class="keyword">int</span> num,i; </span><br><span class="line">ptr=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line">ptr=head; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"please input 5 numbers==&gt;\n"</span>); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">4</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num); </span><br><span class="line">ptr-&gt;data=num; </span><br><span class="line">ptr-&gt;next=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">4</span>) ptr -&gt;next=<span class="literal">NULL</span>; </span><br><span class="line"><span class="keyword">else</span> ptr=ptr-&gt;next; </span><br><span class="line">&#125; </span><br><span class="line">ptr=head; </span><br><span class="line"><span class="keyword">while</span>(ptr!=<span class="literal">NULL</span>) </span><br><span class="line">&#123; <span class="built_in">printf</span>(<span class="string">"The value is ==&gt;%d\n"</span>,ptr-&gt;data); </span><br><span class="line">ptr=ptr-&gt;next; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_73：">程序 73：</h3><p>题目：反向输出一个链表。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/reverse output a <span class="built_in">list</span>/ </span><br><span class="line"><span class="string">"stdlib.h"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> </span><br><span class="line">&#123; <span class="keyword">int</span> data; </span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> *next; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">list</span> node; </span><br><span class="line"><span class="keyword">typedef</span> node *link; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span><br><span class="line"></span>&#123; link ptr,head,tail; </span><br><span class="line"><span class="keyword">int</span> num,i; </span><br><span class="line">tail=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line">tail -&gt;next=<span class="literal">NULL</span>; </span><br><span class="line">ptr=tail; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\nplease input 5 data==&gt;\n"</span>); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">4</span>;i++) </span><br><span class="line">&#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num); </span><br><span class="line">ptr-&gt;data=num; </span><br><span class="line">head=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line">head-&gt;next=ptr; </span><br><span class="line">ptr=head; </span><br><span class="line">&#125; </span><br><span class="line">ptr=ptr-&gt;next; </span><br><span class="line"><span class="keyword">while</span>(ptr!=<span class="literal">NULL</span>) </span><br><span class="line">&#123; <span class="built_in">printf</span>(<span class="string">"The value is ==&gt;%d\n"</span>,ptr-&gt;data); </span><br><span class="line">ptr=ptr-&gt;next; </span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_74：">程序 74：</h3><p>题目：连接两个链表。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"stdlib.h"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> </span><br><span class="line">&#123; <span class="keyword">int</span> data; </span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span> *next; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="built_in">list</span> node; </span><br><span class="line"><span class="keyword">typedef</span> node *link; </span><br><span class="line"><span class="function">link <span class="title">delete_node</span><span class="params">( link pointer,link tmp)</span> </span><br><span class="line"></span>&#123;<span class="keyword">if</span> (tmp==<span class="literal">NULL</span>) /<span class="keyword">delete</span> fir st node/ </span><br><span class="line"><span class="keyword">return</span> pointer-&gt;next; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; <span class="keyword">if</span>(tmp-&gt;next- &gt;next==<span class="literal">NULL</span>)/<span class="keyword">delete</span> last node/ </span><br><span class="line">tmp-&gt;next=<span class="literal">NULL</span>; </span><br><span class="line"><span class="keyword">else</span> /<span class="keyword">delete</span> the other node/ </span><br><span class="line">tmp-&gt;next=tmp-&gt;next- &gt;next; </span><br><span class="line"><span class="keyword">return</span> pointer; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selection_sort</span><span class="params">(link pointer,<span class="keyword">int</span> num)</span> </span><br><span class="line"></span>&#123; link tmp,btmp; </span><br><span class="line"><span class="keyword">int</span> i, min; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i &#123; </span><br><span class="line">tmp=pointer; </span><br><span class="line">min=tmp-&gt;data; </span><br><span class="line">btmp=<span class="literal">NULL</span>; </span><br><span class="line"><span class="keyword">while</span>(tmp-&gt;next) </span><br><span class="line">&#123; <span class="keyword">if</span>(min&gt;tmp-&gt;next-&gt;data) </span><br><span class="line">&#123;min=tmp-&gt;next-&gt;data; </span><br><span class="line">btmp=tmp; </span><br><span class="line">&#125; </span><br><span class="line">tmp=tmp-&gt;next; </span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\40: %d\n"</span>,min); </span><br><span class="line">pointer=delete_node(pointer,btmp); </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function">link <span class="title">create_list</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[],<span class="keyword">int</span> num)</span> </span><br><span class="line"></span>&#123; link tmp1,tmp2,pointer; </span><br><span class="line"><span class="keyword">int</span> i; </span><br><span class="line">pointer=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line">pointer-&gt;data=<span class="built_in">array</span>[<span class="number">0</span>]; </span><br><span class="line">tmp1=pointer; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&#123; tmp2=(link)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node)); </span><br><span class="line">tmp2-&gt;next=<span class="literal">NULL</span>; </span><br><span class="line">tmp2-&gt;data=<span class="built_in">array</span>[i]; </span><br><span class="line">tmp1-&gt;next=tmp2; </span><br><span class="line">tmp1=tmp1-&gt;next; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">return</span> pointer; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function">link <span class="title">concatenate</span><span class="params">(link pointer1,link pointer2)</span> </span><br><span class="line"></span>&#123; link tmp; </span><br><span class="line">tmp=pointer1; </span><br><span class="line"><span class="keyword">while</span>(tmp-&gt;next) </span><br><span class="line">tmp=tmp-&gt;next; </span><br><span class="line">tmp-&gt;next=pointer2; </span><br><span class="line"><span class="keyword">return</span> pointer1; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span><br><span class="line"></span>&#123; <span class="keyword">int</span> arr1[]=&#123;<span class="number">3</span>,<span class="number">12</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>&#125;; </span><br><span class="line">link ptr; </span><br><span class="line">ptr=create_list(arr1,<span class="number">5</span>); </span><br><span class="line">selection_sort(ptr,<span class="number">5</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_76：">程序 76：</h3><p>题目：编写一个函数，输入 n 为偶数时，调用函数求 1/2+1/4+…+1/n,当输入 n 为奇数时，调<br>用函数<br>1/1+1/3+…+1/n(利用指针函数)<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">peven</span><span class="params">()</span>,<span class="title">podd</span><span class="params">()</span>,<span class="title">dcall</span><span class="params">()</span></span>; </span><br><span class="line"><span class="keyword">float</span> sum; </span><br><span class="line"><span class="keyword">int</span> n; </span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) </span><br><span class="line">&#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n); </span><br><span class="line"><span class="keyword">if</span>(n&gt;<span class="number">1</span>) </span><br><span class="line"><span class="keyword">break</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>) </span><br><span class="line">&#123; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Even="</span>); </span><br><span class="line">sum=dcall(peven,n); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Odd="</span>); </span><br><span class="line">sum=dcall(podd,n); </span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%f"</span>,sum); </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">peven</span><span class="params">(<span class="keyword">int</span> n)</span> </span><br><span class="line"></span>&#123; </span><br><span class="line"><span class="keyword">float</span> s; </span><br><span class="line"><span class="keyword">int</span> i; </span><br><span class="line">s=<span class="number">1</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=n;i+=<span class="number">2</span>) </span><br><span class="line">s+=<span class="number">1</span>/(<span class="keyword">float</span>)i; </span><br><span class="line"><span class="keyword">return</span>(s); </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">podd</span><span class="params">(n)</span> </span><br><span class="line"><span class="keyword">int</span> n</span>; </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">float</span> s; </span><br><span class="line"><span class="keyword">int</span> i; </span><br><span class="line">s=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i+=<span class="number">2</span>) </span><br><span class="line">s+=<span class="number">1</span>/(<span class="keyword">float</span>)i; </span><br><span class="line"><span class="keyword">return</span>(s); </span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">dcall</span><span class="params">(fp,n)</span> </span><br><span class="line"><span class="title">float</span> <span class="params">(*fp)</span><span class="params">()</span></span>; </span><br><span class="line"><span class="keyword">int</span> n; </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">float</span> s; </span><br><span class="line">s=(*fp)(n); </span><br><span class="line"><span class="keyword">return</span>(s); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_80：">程序 80：</h3><p>题目：海滩上有一堆桃子，五只猴子来分。第一只猴子把这堆桃子凭据分为五份，多了一个，<br>这只<br>猴子把多的一个扔入海中，拿走了一份。第二只猴子把剩下的桃子又平均分成五份，又多了<br>一个，它同样把多的一个扔入海中，拿走了一份，第三、第四、第五只猴子都是这样做的，<br>问海滩上原来最少有多少个桃子？<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> i,m,j,k,count; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">4</span>;i&lt;<span class="number">10000</span>;i+=<span class="number">4</span>) </span><br><span class="line">&#123; count=<span class="number">0</span>; </span><br><span class="line">m=i; </span><br><span class="line"><span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;<span class="number">5</span>;k++) </span><br><span class="line">&#123; </span><br><span class="line">j=i/<span class="number">4</span>*<span class="number">5</span>+<span class="number">1</span>; </span><br><span class="line">i =j; </span><br><span class="line"><span class="keyword">if</span>(j%<span class="number">4</span>==<span class="number">0</span>) </span><br><span class="line">count++; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line"><span class="keyword">break</span>; </span><br><span class="line">&#125; </span><br><span class="line">i=m; </span><br><span class="line"><span class="keyword">if</span>(count==<span class="number">4</span>) </span><br><span class="line">&#123;<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,count); </span><br><span class="line"><span class="keyword">break</span>;&#125; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_81：">程序 81：</h3><p>题目：809<em>??=800</em>??+9<em>??+1 其中??代表的两位数,8</em>??的结果为两位数，9<em>?? 的结果为 3<br>位数。求??代表的两位数，及 809</em>??后的结果。<br>1.程序分析：<br>2.程序源代码：<br>output(long b,long i)<br>{ printf(“\n%ld/%ld=809<em>%ld+%ld”,b,i,i,b%i);<br>}<br>main()<br>{long int a,b,i;<br>a=809;<br>for(i=10;i&lt;100;i++)<br>{b=i</em>a+1;<br>if(b&gt;=1000&amp;&amp;b&lt;=10000&amp;&amp;8<em>i&lt;100&amp;&amp;9</em>i&gt;=100)<br>output(b,i); }<br>}</p>
<h3 id="程序_82：">程序 82：</h3><p>题目：八进制转换为十进制<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; <span class="keyword">char</span> p,s[<span class="number">6</span>];<span class="keyword">int</span> n; </span><br><span class="line">p=s; </span><br><span class="line">gets(p); </span><br><span class="line">n=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">while</span>((p)!=<span class="string">'\0'</span>) </span><br><span class="line">&#123;n=n*<span class="number">8</span>+*p-<span class="string">'0'</span>; </span><br><span class="line">p++;&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,n); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_83：">程序 83：</h3><p>题目：求 0—7 所能组成的奇数个数。<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">long</span> sum=<span class="number">4</span>,s=<span class="number">4</span>; </span><br><span class="line"><span class="keyword">int</span> j; </span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">2</span>;j&lt;=<span class="number">8</span>;j++)/j is place of number/ </span><br><span class="line">&#123; <span class="built_in">printf</span>(<span class="string">"\n%ld"</span>,sum); </span><br><span class="line"><span class="keyword">if</span>(j&lt;=<span class="number">2</span>) </span><br><span class="line">s*=<span class="number">7</span>; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">s*=<span class="number">8</span>; </span><br><span class="line">sum+=s;&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\nsum=%ld"</span>,sum); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_84：">程序 84：</h3><p>题目：一个偶数总能表示为两个素数之和。<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; <span class="keyword">int</span> a,b,c,d; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a); </span><br><span class="line"><span class="keyword">for</span>(b=<span class="number">3</span>;b&lt;=a/<span class="number">2</span>;b+=<span class="number">2</span>) </span><br><span class="line">&#123; <span class="keyword">for</span>(c=<span class="number">2</span>;c&lt;=<span class="built_in">sqrt</span>(b);c++) </span><br><span class="line"><span class="keyword">if</span>(b%c==<span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line"><span class="keyword">if</span>(c&gt;<span class="built_in">sqrt</span>(b)) </span><br><span class="line">d=a-b; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line"><span class="keyword">break</span>; </span><br><span class="line"><span class="keyword">for</span>(c=<span class="number">2</span>;c&lt;=<span class="built_in">sqrt</span>(d);c++) </span><br><span class="line"><span class="keyword">if</span>(d%c==<span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line"><span class="keyword">if</span>(c&gt;<span class="built_in">sqrt</span>(d)) </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d=%d+%d\n"</span>,a,b,d); </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_85：">程序 85：</h3><p>题目：判断一个素数能被几个 9 整除<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123; <span class="keyword">long</span> <span class="keyword">int</span> m9=<span class="number">9</span>,sum=<span class="number">9</span>; </span><br><span class="line"><span class="keyword">int</span> zi,n1=<span class="number">1</span>,c9=<span class="number">1</span>; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;zi); </span><br><span class="line"><span class="keyword">while</span>(n1!=<span class="number">0</span>) </span><br><span class="line">&#123; <span class="keyword">if</span>(!(sum%zi)) </span><br><span class="line">n1=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;m9=m9*<span class="number">10</span>; </span><br><span class="line">sum=sum+m9; </span><br><span class="line">c9++; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%ld,can be divided by %d \"9\""</span>,sum,c9); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_88：">程序 88：</h3><p>题目：读取 7 个数（1—50）的整数值，每读取一个值，程序打印出该值个数的＊。<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> i,a,n=<span class="number">1</span>; </span><br><span class="line"><span class="keyword">while</span>(n&lt;=<span class="number">7</span>) </span><br><span class="line">&#123; <span class="keyword">do</span> &#123; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a); </span><br><span class="line">&#125;<span class="keyword">while</span>(a&lt;<span class="number">1</span>||a&gt;<span class="number">50</span>); </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=a;i++) </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"*"</span>); </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>); </span><br><span class="line">n++;&#125; </span><br><span class="line">getch(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_89：">程序 89：</h3><p>题目：某个公司采用公用电话传递数据，数据是四位的整数，在传递过程中是加密的，加密<br>规则如下：<br>每位数字都加上 5,然后用和除以 10 的余数代替该数字，再将第一位和第四位交换，第二位<br>和第三位交换。<br>1.程序分析：<br>2.程序源代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">main() </span><br><span class="line">&#123;<span class="keyword">int</span> a,i,aa[<span class="number">4</span>],t; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a); </span><br><span class="line">aa[<span class="number">0</span>]=a ; </span><br><span class="line">aa1=a <span class="number">0</span>/<span class="number">10</span>; </span><br><span class="line">aa[<span class="number">2</span>]=a <span class="number">00</span>/<span class="number">100</span>; </span><br><span class="line">aa[<span class="number">3</span>]=a/<span class="number">1000</span>; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">3</span>;i++) </span><br><span class="line">&#123;aa[i]+=<span class="number">5</span>; </span><br><span class="line">aa[i]%=<span class="number">10</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">3</span>/<span class="number">2</span>;i++) </span><br><span class="line">&#123;t=aa[i]; </span><br><span class="line">aa[i]=aa[<span class="number">3</span>-i]; </span><br><span class="line">aa[<span class="number">3</span>-i]=t; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">3</span>;i&gt;=<span class="number">0</span>;i --) </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,aa[i]); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="程序_94：">程序 94：</h3><p>题目：时间函数举例 4,一个猜数游戏，判断一个人反应快慢。（版主初学时编的）<br>1.程序分析：<br>2.程序源代码： </p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"time.h"</span> </span><br><span class="line"><span class="string">"stdlib.h"</span></span><br><span class="line"></span><br><span class="line">main<span class="params">()</span> </span><br><span class="line">&#123;char c; </span><br><span class="line">clock_t start,end; </span><br><span class="line">time_t a,b; </span><br><span class="line">double var; </span><br><span class="line">int i,guess; </span><br><span class="line">srand<span class="params">(time<span class="params">(NULL)</span>)</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"do you want to play it.('y' or 'n') \n"</span>)</span>; </span><br><span class="line">loop: </span><br><span class="line">while<span class="params">(<span class="params">(c=getchar<span class="params">()</span>)</span>=='y')</span> </span><br><span class="line">&#123; </span><br><span class="line">i=rand<span class="params">()</span> <span class="number">0</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"\nplease input number you guess:\n"</span>)</span>; </span><br><span class="line">start=clock<span class="params">()</span>; </span><br><span class="line">a=time<span class="params">(NULL)</span>; </span><br><span class="line">scanf<span class="params">(<span class="string">"%d"</span>,&amp;guess)</span>; </span><br><span class="line">while<span class="params">(guess!=i)</span> </span><br><span class="line">&#123;<span class="keyword">if</span><span class="params">(guess&gt;i)</span> </span><br><span class="line">&#123;printf<span class="params">(<span class="string">"please input a little smaller. \n"</span>)</span>; </span><br><span class="line">scanf<span class="params">(<span class="string">"%d"</span>,&amp;guess)</span>;&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;printf<span class="params">(<span class="string">"please input a little bigger. \n"</span>)</span>; </span><br><span class="line">scanf<span class="params">(<span class="string">"%d"</span>,&amp;guess)</span>;&#125; </span><br><span class="line">&#125; </span><br><span class="line">end=clock<span class="params">()</span>; </span><br><span class="line">b=time<span class="params">(NULL)</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"\1: It took you %6.3f seconds \n"</span>,var=<span class="params">(double)</span><span class="params">(end-start)</span>/<span class="number">18.2</span>)</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"\1: it took you %6.3f seconds \n \n"</span>,difftime<span class="params">(b,a)</span>)</span>; </span><br><span class="line"><span class="keyword">if</span><span class="params">(var&lt;<span class="number">15</span>)</span> </span><br><span class="line">printf<span class="params">(<span class="string">"\1\1 You are very clever! \1\1\n \n"</span>)</span>; </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span><span class="params">(var&lt;<span class="number">25</span>)</span> </span><br><span class="line">printf<span class="params">(<span class="string">"\1\1 you are normal! \1\1\n\n"</span>)</span>; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">printf<span class="params">(<span class="string">"\1\1 you are stupid! \1\1\n\n"</span>)</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"\1\1 Congradulations \1\1\n\n"</span>)</span>; </span><br><span class="line">printf<span class="params">(<span class="string">"The number you guess is %d"</span>,i)</span>; </span><br><span class="line">&#125; </span><br><span class="line">printf<span class="params">(<span class="string">"\ndo you want to try it again?(\"yy\".or. \"n\")\n"</span>)</span>; </span><br><span class="line"><span class="keyword">if</span><span class="params">(<span class="params">(c=getch<span class="params">()</span>)</span>=='y')</span> </span><br><span class="line">goto loop; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Go/">Go</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Logstash-学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/09/Logstash-学习笔记/" class="article-date">
  	<time datetime="2015-10-09T06:20:49.000Z" itemprop="datePublished">2015-10-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/09/Logstash-学习笔记/">Logstash 学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#简介</p>
<ol>
<li><p>Logstash 是一个完全开源的工具，他可以对你的日志进行收集、分析，并将其存储供以后使用（如，搜索），您可以使用它。说到搜索，logstash带有一个web界面，搜索和展示所有日志。</p>
</li>
<li><p>kibana 也是一个开源和免费的工具，他可以帮助您汇总、分析和搜索重要数据日志并提供友好的web界面。他可以为 Logstash 和 ElasticSearch 提供的日志分析的 Web 界面</p>
</li>
</ol>
<h1 id="流程">流程</h1><p>简单来讲他具体的工作流程就是 logstash agent 监控并过滤日志，将过滤后的日志内容发给redis(这里的redis只处理队列不做存储)，logstash index将日志收集在一起交给全文搜索服务ElasticSearch 可以用ElasticSearch进行自定义搜索 通过Kibana 来结合自定义搜索进行页面展示，下图是 Kibana官网上的流程图</p>
<p><img src="/assets/blogImg/logstash.png" alt="Logstash"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Logstash/">Logstash</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 別問
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>